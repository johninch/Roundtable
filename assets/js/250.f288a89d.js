(window.webpackJsonp=window.webpackJsonp||[]).push([[250],{812:function(t,r,e){"use strict";e.r(r);var _=e(14),v=Object(_.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"from-memory-cache-与-from-disk-cache"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#from-memory-cache-与-from-disk-cache"}},[t._v("#")]),t._v(" from memory cache 与 from disk cache")]),t._v(" "),e("blockquote",[e("p",[t._v("谈谈network中的缓存细节：from memory cache 与 from disk cache")])]),t._v(" "),e("h2",{attrs:{id:"一、浏览器network的size栏"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、浏览器network的size栏"}},[t._v("#")]),t._v(" 一、浏览器Network的Size栏")]),t._v(" "),e("p",[t._v("在浏览器开发者工具的Network的Size栏会出现的三种情况：")]),t._v(" "),e("ul",[e("li",[t._v("from memory cache")]),t._v(" "),e("li",[t._v("from disk cache")]),t._v(" "),e("li",[t._v("资源本身大小（比如：13.6K）")])]),t._v(" "),e("h2",{attrs:{id:"二、3级缓存原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、3级缓存原理"}},[t._v("#")]),t._v(" 二、3级缓存原理")]),t._v(" "),e("ol",[e("li",[t._v("先查找内存，如果内存中存在，从内存中加载；")]),t._v(" "),e("li",[t._v("如果内存中未查找到，选择硬盘获取，如果硬盘中有，从硬盘中加载；")]),t._v(" "),e("li",[t._v("如果硬盘中未查找到，那就进行网络请求；")]),t._v(" "),e("li",[t._v("加载到的资源缓存到硬盘和内存；")])]),t._v(" "),e("h2",{attrs:{id:"三、http状态码及区别"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、http状态码及区别"}},[t._v("#")]),t._v(" 三、HTTP状态码及区别")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("200 form memory cache\n不访问服务器，一般已经加载过该资源且缓存在了内存当中，直接从内存中读取缓存。浏览器关闭后，数据将不存在（资源被释放掉了），再次打开相同的页面时，不会出现from memory cache。")])]),t._v(" "),e("li",[e("p",[t._v("200 from disk cache\n不访问服务器，已经在之前的某个时间加载过该资源，直接从硬盘中读取缓存，关闭浏览器后，数据依然存在，此资源不会随着该页面的关闭而释放掉下次打开仍然会是from disk cache。")])]),t._v(" "),e("li",[e("p",[t._v("304 Not Modified\n访问服务器，发现数据没有更新，服务器返回此状态码。然后从缓存中读取数据。")])])]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("状态")]),t._v(" "),e("th",[t._v("类型")]),t._v(" "),e("th",[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("200")]),t._v(" "),e("td",[t._v("form memory cache")]),t._v(" "),e("td",[t._v("不请求网络资源，资源在内存当中，一般脚本、字体、图片会存在内存当中")])]),t._v(" "),e("tr",[e("td",[t._v("200")]),t._v(" "),e("td",[t._v("form disk cache")]),t._v(" "),e("td",[t._v("不请求网络资源，在磁盘当中，一般非脚本会存在内存当中，如css等")])]),t._v(" "),e("tr",[e("td",[t._v("200")]),t._v(" "),e("td",[t._v("资源大小数值")]),t._v(" "),e("td",[t._v("从服务器下载最新资源")])]),t._v(" "),e("tr",[e("td",[t._v("304")]),t._v(" "),e("td",[t._v("报文大小")]),t._v(" "),e("td",[t._v("请求服务端发现资源没更新，使用本地资源")])])])]),t._v(" "),e("blockquote",[e("p",[t._v("一般样式表会缓存在磁盘中，不会缓存到内存中，因为css样式加载一次即可渲染出页面。但是脚本可能会随时执行，如果把脚本存在磁盘中，在执行时会把该脚本从磁盘中提取到缓存中来，这样的IO开销比较大，有可能会导致浏览器失去响应。")])]),t._v(" "),e("h2",{attrs:{id:"四、几种状态的执行顺序"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、几种状态的执行顺序"}},[t._v("#")]),t._v(" 四、几种状态的执行顺序")]),t._v(" "),e("p",[t._v("现加载一种资源（例如：图片）：")]),t._v(" "),e("p",[t._v("访问 -> 200 -> 退出浏览器 -> 再进来 -> 200(from disk cache) -> 刷新 -> 200(from memory cache)")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://www.jianshu.com/p/8332da83955d",target:"_blank",rel:"noopener noreferrer"}},[t._v("原文链接"),e("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=v.exports}}]);