(window.webpackJsonp=window.webpackJsonp||[]).push([[213],{765:function(s,t,a){"use strict";a.r(t);var e=a(14),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"js-æ¨¡å—è§„èŒƒä¸æ¼”è¿›"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-æ¨¡å—è§„èŒƒä¸æ¼”è¿›"}},[s._v("#")]),s._v(" JS æ¨¡å—è§„èŒƒä¸æ¼”è¿›")]),s._v(" "),a("blockquote",[a("p",[s._v("åœ¨ ES6 ä¹‹å‰ï¼Œç¤¾åŒºè‡ªå‘çš„ç”Ÿäº§äº†ä¸€äº›æ¨¡å—åŠ è½½æ–¹æ¡ˆï¼Œæœ€ä¸»æµçš„æœ‰ CommonJS å’Œ AMD ä¸¤ç§ã€‚å‰è€…ç”¨äºæœåŠ¡å™¨ï¼Œåè€…ç”¨äºæµè§ˆå™¨ï¼ˆå€ŸåŠ©ç¬¬ä¸‰æ–¹åº“ï¼‰ã€‚è€Œ ES6 åœ¨è¯­è¨€æ ‡å‡†çš„å±‚é¢ä¸Šï¼Œå®ç°äº†æ¨¡å—åŠŸèƒ½ï¼Œè€Œä¸”å®ç°å¾—ç›¸å½“ç®€å•ï¼Œèƒ½æ»¡è¶³ç»å¤§éƒ¨åˆ† CommonJS å’Œ AMD çš„éœ€æ±‚ï¼Œç›®æ ‡æ˜¯æˆä¸ºæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šç”¨çš„æ¨¡å—è§£å†³æ–¹æ¡ˆï¼ˆä¸è¿‡ç°çŠ¶æ˜¯è¿˜ä¸èƒ½å®Œå…¨æ›¿ä»£ï¼Œæ¯”å¦‚åŠ¨æ€åŒæ­¥ require è¿˜æ²¡æ›¿ä»£æ–¹æ¡ˆï¼‰ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"js-çš„ä¸¤ç§æ¨¡å—è§„èŒƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-çš„ä¸¤ç§æ¨¡å—è§„èŒƒ"}},[s._v("#")]),s._v(" JS çš„ä¸¤ç§æ¨¡å—è§„èŒƒ")]),s._v(" "),a("p",[s._v("åˆ° 2021 å¹´ï¼Œä½ å¯ä»¥å¿˜è®°å‰é¢ç« èŠ‚ä¸­çš„ 5 ç§æ¨¡å—è§„èŒƒï¼Œåªéœ€è¦çŸ¥é“ JS æœ‰ä¸¤ç§æ ¼å¼çš„æ¨¡å—ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("Nodejs ä¸“ç”¨çš„ CommonJS æ¨¡å—ï¼ˆcjsï¼‰ï¼›")]),s._v(" "),a("li",[s._v("ESM æ¨¡å—ï¼ˆesmï¼‰ï¼›")])]),s._v(" "),a("h3",{attrs:{id:"esm-ä¸-cjs-çš„å·®å¼‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#esm-ä¸-cjs-çš„å·®å¼‚"}},[s._v("#")]),s._v(" esm ä¸ cjs çš„å·®å¼‚")]),s._v(" "),a("ul",[a("li",[s._v("CommonJS æ¨¡å—ä½¿ç”¨ require()åŠ è½½å’Œ module.exports è¾“å‡ºï¼ŒESM æ¨¡å—ä½¿ç”¨ import å’Œ exportã€‚")]),s._v(" "),a("li",[s._v("ç”¨æ³•ä¸Šé¢ï¼Œrequire()æ˜¯åŒæ­¥åŠ è½½ï¼Œåé¢çš„ä»£ç å¿…é¡»ç­‰å¾…è¿™ä¸ªå‘½ä»¤æ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œã€‚import å‘½ä»¤åˆ™æ˜¯å¼‚æ­¥åŠ è½½ï¼Œæˆ–è€…æ›´å‡†ç¡®åœ°è¯´ï¼ŒESM æ¨¡å—æœ‰ä¸€ä¸ªç‹¬ç«‹çš„é™æ€è§£æé˜¶æ®µï¼Œä¾èµ–å…³ç³»çš„åˆ†ææ˜¯åœ¨é‚£ä¸ªé˜¶æ®µå®Œæˆçš„ï¼Œæœ€åº•å±‚çš„æ¨¡å—ç¬¬ä¸€ä¸ªæ‰§è¡Œã€‚")])]),s._v(" "),a("h3",{attrs:{id:"nodejs-å¦‚ä½•åŒºåˆ†ä¸¤ç§æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-å¦‚ä½•åŒºåˆ†ä¸¤ç§æ¨¡å—"}},[s._v("#")]),s._v(" Nodejs å¦‚ä½•åŒºåˆ†ä¸¤ç§æ¨¡å—")]),s._v(" "),a("ul",[a("li",[s._v(".mjs æ–‡ä»¶æ€»æ˜¯ä»¥ ESM æ¨¡å—åŠ è½½ï¼›.cjs æ–‡ä»¶æ€»æ˜¯ä»¥ CommonJS æ¨¡å—åŠ è½½ï¼›.js æ–‡ä»¶å’Œæ— æ‹“å±•åæ–‡ä»¶çš„å¤„ç†æ–¹å¼ï¼Œå–å†³äº package.json é‡Œé¢ type å­—æ®µçš„è®¾ç½®ï¼ˆtype = 'module' æˆ–è€… type = 'commonjs'ï¼‰ã€‚")]),s._v(" "),a("li",[s._v("å¦‚æœ package.json æ²¡æœ‰å®šä¹‰ type å­—æ®µï¼Œnode é»˜è®¤æ˜¯æŒ‰ç…§ commonJs è§„èŒƒå¤„ç†ã€‚ä¸è¿‡ï¼Œnode å®˜æ–¹å»ºè®®åŒ…çš„å¼€å‘è€…æ˜ç¡®æŒ‡å®š package.json ä¸­ type å­—æ®µçš„å€¼ã€‚")]),s._v(" "),a("li",[s._v("æ³¨æ„ï¼šESM æ¨¡å—ä¸ CommonJS æ¨¡å—å°½é‡ä¸è¦æ··ç”¨ã€‚require å‘½ä»¤ä¸èƒ½åŠ è½½.mjs æ–‡ä»¶ï¼Œä¼šæŠ¥é”™ï¼Œåªæœ‰ import å‘½ä»¤æ‰å¯ä»¥åŠ è½½.mjs æ–‡ä»¶ã€‚åè¿‡æ¥ï¼Œ.mjs æ–‡ä»¶é‡Œé¢ä¹Ÿä¸èƒ½ä½¿ç”¨ require å‘½ä»¤ï¼Œå¿…é¡»ä½¿ç”¨ importã€‚")])]),s._v(" "),a("h3",{attrs:{id:"ä¸¤ç§æ¨¡å—äº’ç›¸å¼•ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸¤ç§æ¨¡å—äº’ç›¸å¼•ç”¨"}},[s._v("#")]),s._v(" ä¸¤ç§æ¨¡å—äº’ç›¸å¼•ç”¨")]),s._v(" "),a("h4",{attrs:{id:"commonjs-æ¨¡å—åŠ è½½-esm-æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs-æ¨¡å—åŠ è½½-esm-æ¨¡å—"}},[s._v("#")]),s._v(" CommonJS æ¨¡å—åŠ è½½ ESM æ¨¡å—")]),s._v(" "),a("p",[s._v("require()å‘½ä»¤ä¸èƒ½åŠ è½½ ESM æ¨¡å—ï¼Œä¼šæŠ¥é”™ï¼Œåªèƒ½ä½¿ç”¨ import()è¿™ä¸ªæ–¹æ³•åŠ è½½ï¼š")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ CommonJS æ¨¡å—ä¸­è¿è¡Œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("async")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("await")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./my-app.mjs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("require()ä¸æ”¯æŒ ESM æ¨¡å—çš„ä¸€ä¸ªåŸå› æ˜¯ï¼Œå®ƒæ˜¯åŒæ­¥åŠ è½½ï¼Œè€Œ ESM æ¨¡å—å†…éƒ¨å¯ä»¥ä½¿ç”¨é¡¶å±‚ await å‘½ä»¤ï¼Œå¯¼è‡´æ— æ³•è¢«åŒæ­¥åŠ è½½ã€‚")]),s._v(" "),a("h4",{attrs:{id:"esm-æ¨¡å—åŠ è½½-commonjs-æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#esm-æ¨¡å—åŠ è½½-commonjs-æ¨¡å—"}},[s._v("#")]),s._v(" ESM æ¨¡å—åŠ è½½ CommonJS æ¨¡å—")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åœ¨ ESM æ¨¡å—ä¸­è¿è¡Œ")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" method "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commonjs-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŠ¥é”™")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" packageMain "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"commonjs-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ­£ç¡®")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" method "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" packageMain"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// åŠ è½½å•ä¸€çš„è¾“å‡ºé¡¹")]),s._v("\n")])])]),a("p",[s._v("import å‘½ä»¤å¯ä»¥åŠ è½½ CommonJS æ¨¡å—ï¼Œä½†æ˜¯åªèƒ½æ•´ä½“åŠ è½½ï¼Œä¸èƒ½åªåŠ è½½å•ä¸€çš„è¾“å‡ºé¡¹ã€‚")]),s._v(" "),a("p",[s._v("è¿™æ˜¯å› ä¸º ESM æ¨¡å—éœ€è¦æ”¯æŒé™æ€ä»£ç åˆ†æï¼Œè€Œ CommonJS æ¨¡å—çš„è¾“å‡ºæ¥å£æ˜¯ module.exportsï¼Œæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œæ— æ³•è¢«é™æ€åˆ†æï¼Œæ‰€ä»¥åªèƒ½æ•´ä½“åŠ è½½ã€‚")]),s._v(" "),a("h4",{attrs:{id:"åŒæ—¶æ”¯æŒåŠ è½½ä¸¤ç§æ¨¡å—"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒæ—¶æ”¯æŒåŠ è½½ä¸¤ç§æ¨¡å—"}},[s._v("#")]),s._v(" åŒæ—¶æ”¯æŒåŠ è½½ä¸¤ç§æ¨¡å—")]),s._v(" "),a("ol",[a("li",[s._v("åŸå§‹æ¨¡å—æ˜¯ ESM æ—¶ï¼Œéœ€è¦æ•´ä½“"),a("code",[s._v("export default obj")]),s._v("è¾“å‡ºï¼Œä½¿å¾— CommonJS å¯ä»¥ç”¨ import()è¿›è¡ŒåŠ è½½ã€‚")]),s._v(" "),a("li",[s._v("åŸå§‹æ¨¡å—æ˜¯ CommonJS æ ¼å¼ï¼Œéœ€è¦åŒ…è£…ä¸€å±‚ï¼š")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// wrapper.js")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" cjsModule "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"../index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ•´ä½“å¼•å…¥ CommonJS æ¨¡å—")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" foo "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cjsModule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("foo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æŒ‰éœ€è¾“å‡ºå…·åæ¥å£")]),s._v("\n")])])]),a("p",[s._v("æœ‰ 3 ç§æ–¹å¼å¯ä»¥è¡¨æ˜è¿™ä¸ªåŒ…è£…å±‚å¯¼å‡ºçš„æ˜¯ä¸€ä¸ªå¯ä»¥è¢« ESM åŠ è½½çš„æ¨¡å—ï¼š")]),s._v(" "),a("ol",[a("li",[s._v("æ–‡ä»¶åç¼€è®¾ä¸º.mjsï¼›")]),s._v(" "),a("li",[s._v('å°†åŒ…è£…å±‚æ”¾åœ¨ä¸€ä¸ªå­ç›®å½•ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªå•ç‹¬çš„ package.json æ–‡ä»¶ï¼ŒæŒ‡æ˜{ type: "module" }ï¼›')]),s._v(" "),a("li",[s._v("å°†åŒ…è£…å±‚æ”¾åœ¨ä¸€ä¸ªå­ç›®å½•ï¼Œå¹¶æ·»åŠ ä¸€ä¸ªå•ç‹¬çš„ package.json æ–‡ä»¶ï¼Œä½¿ç”¨ exports å­—æ®µï¼ŒæŒ‡æ˜ä¸¤ç§æ ¼å¼æ¨¡å—å„è‡ªçš„åŠ è½½å…¥å£ï¼š")])]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"exports"')]),s._v("ï¼š"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"require"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"import"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./esm/wrapper.js"')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[s._v("æ³¨æ„ï¼")]),s._v(" "),a("p",[s._v("ESM æ¨¡å—è§„èŒƒæ˜¯ JS å®˜æ–¹æå‡ºçš„ï¼Œæ‰€ä»¥æµè§ˆå™¨å’Œ Nodejs éƒ½åŸç”Ÿæ”¯æŒäº†è¿™ä¸€æ¨¡å—è§„èŒƒã€‚")]),s._v(" "),a("p",[s._v("ä½† CommonJS å¹¶ä¸æ˜¯ JS å®˜æ–¹æå‡ºçš„ï¼Œè€Œæ˜¯ Nodejs çš„å¼€å‘è€…å®ç°çš„ï¼Œå› æ­¤æµè§ˆå™¨å¹¶æ²¡æœ‰æ”¯æŒ CommonJSã€‚")]),s._v(" "),a("p",[s._v("è¿™ä¸¤ç§æ¨¡å—ä¸å…¼å®¹ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"æ¼”è¿›-nodejs-ä¸ºä»€ä¹ˆä¸æ”¾å¼ƒ-commonjs-è€Œå…¨é¢è½¬å‘-esm-å‘¢-å…¼å®¹é—®é¢˜"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¼”è¿›-nodejs-ä¸ºä»€ä¹ˆä¸æ”¾å¼ƒ-commonjs-è€Œå…¨é¢è½¬å‘-esm-å‘¢-å…¼å®¹é—®é¢˜"}},[s._v("#")]),s._v(" æ¼”è¿›ï¼šNodejs ä¸ºä»€ä¹ˆä¸æ”¾å¼ƒ CommonJS è€Œå…¨é¢è½¬å‘ ESM å‘¢ï¼Ÿï¼ˆå…¼å®¹é—®é¢˜ï¼‰")]),s._v(" "),a("p",[s._v("Qï¼šåœ¨ JS å®˜æ–¹å°† ESM å†™è¿›æ ‡å‡†åï¼ŒNodejs å¿…ç„¶è¦å®ç° ESMã€‚é‚£ä¸ºä»€ä¹ˆ Nodejs ä¸å…¨é¢è½¬å‘ ESM å‘¢ï¼Ÿ")]),s._v(" "),a("p",[s._v("Aï¼šå› ä¸ºåœ¨ ESM ä¹‹å‰ï¼Œæœ‰å¤§é‡çš„åŸºäº CommonJS æ¨¡å—è§„èŒƒå®ç°çš„åŒ…ï¼Œæ‰€ä»¥ Nodejs ä¸å¯èƒ½å®Œå…¨è½¬å‘ ESMï¼Œè€Œåªèƒ½é€‰æ‹©å…¼å®¹ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ï¼ŒäºŒè€…å­˜åœ¨å¾ˆå¤šåº•å±‚çš„è®¾è®¡å†²çªï¼Œæ‰€ä»¥åœ¨å…¼å®¹å±‚çš„å®ç°ä¸Šå­˜åœ¨è¯¸å¤šé—®é¢˜ "),a("a",{attrs:{href:"https://redfin.engineering/node-modules-at-war-why-commonjs-and-es-modules-cant-get-along-9617135eeca1",target:"_blank",rel:"noopener noreferrer"}},[s._v("Node Modules at War: Why CommonJS and ES Modules Canâ€™t Get Along"),a("OutboundLink")],1),s._v("ã€‚")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("æœ€ç»ˆå…¼å®¹çš„æ–¹æ¡ˆ")]),s._v(" "),a("p",[s._v('åç¼€ä¸º .mjs çš„æ–‡ä»¶ ä»¥åŠ åç¼€ä¸º .js ä½†æ˜¯åœ¨ package.json ä¸­å£°æ˜äº† "type": "module" çš„æ¨¡å—ï¼ˆNodejs >= v13ï¼‰ï¼Œéƒ½ä¼šåœ¨ Nodejs ä¸­è¢«è§£æä¸º ESM æ¨¡å—')])]),s._v(" "),a("h2",{attrs:{id:"æ¼”è¿›-æ˜¯å¦å¯ä»¥æµè§ˆå™¨ä¸Šç›´æ¥åŠ è½½åŸºäº-commonjs-å¼€å‘çš„-npm-åŒ…å‘¢-ä¾èµ–å›°å¢ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¼”è¿›-æ˜¯å¦å¯ä»¥æµè§ˆå™¨ä¸Šç›´æ¥åŠ è½½åŸºäº-commonjs-å¼€å‘çš„-npm-åŒ…å‘¢-ä¾èµ–å›°å¢ƒ"}},[s._v("#")]),s._v(" æ¼”è¿›ï¼šæ˜¯å¦å¯ä»¥æµè§ˆå™¨ä¸Šç›´æ¥åŠ è½½åŸºäº CommonJS å¼€å‘çš„ npm åŒ…å‘¢ï¼Ÿï¼ˆä¾èµ–å›°å¢ƒï¼‰")]),s._v(" "),a("p",[s._v("Qï¼šæ—¢ç„¶ Nodejs çš„å·²ç»å…¼å®¹äº† CommonJS å’Œ ESM è§„èŒƒï¼Œå¹¶ä¸”ä¸»æµæµè§ˆå™¨ï¼ˆé™¤äº† IEï¼‰ä¹Ÿå·²ç»åŸºäº ESM è§„èŒƒå®ç°äº†åŸç”Ÿçš„æ¨¡å—ç³»ç»Ÿï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å¯ä»¥åœ¨æµè§ˆå™¨ä¸Šç›´æ¥åŠ è½½æ­¤å‰åŸºäº CommonJS å¼€å‘çš„ npm åŒ…äº†å‘¢ï¼Ÿ")]),s._v(" "),a("p",[s._v("Aï¼šç­”æ¡ˆæ˜¯"),a("code",[s._v("ä¸è¡Œ")]),s._v("ã€‚è¿™æ˜¯å› ä¸ºæ¨¡å—è§£ææœºåˆ¶çš„å·®å¼‚æ‰€å¯¼è‡´çš„ç¬¬ä¸‰æ–¹ä¾èµ–çš„å›°å¢ƒã€‚")]),s._v(" "),a("p",[a("strong",[s._v("æ¥ä¸‹æ¥æˆ‘ä»¬åˆ†æä¸‹ Nodejsã€Webpackã€æµè§ˆå™¨ 3 è€…çš„æ¨¡å—è§£ææœºåˆ¶çš„å·®å¼‚ï¼š")])]),s._v(" "),a("h3",{attrs:{id:"nodejs-çš„æ¨¡å—è§£ææœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#nodejs-çš„æ¨¡å—è§£ææœºåˆ¶"}},[s._v("#")]),s._v(" Nodejs çš„æ¨¡å—è§£ææœºåˆ¶")]),s._v(" "),a("p",[s._v("åœ¨ Nodejs ä¸­ï¼Œå¼•å…¥ç¬¬ä¸‰æ–¹ä¾èµ–ä¸éœ€è¦å†™ç›¸å¯¹è·¯å¾„ï¼Œåªéœ€è¦ä¾èµ–åï¼Œè€Œä¸”ä¹Ÿä¸éœ€è¦æŒ‡å®šå…¥å£æ–‡ä»¶ã€‚")]),s._v(" "),a("p",[s._v("è¿™æ˜¯ Nodejs æ¨¡å—ç³»ç»Ÿæ‰€åšçš„å…¼å®¹å¤„ç†ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼š")]),s._v(" "),a("ol",[a("li",[s._v("è‡ªåŠ¨æ‹¼æ¥ node_modules ä¸­ç¬¬ä¸‰æ–¹ä¾èµ–çš„å®Œæ•´è·¯å¾„ï¼›")]),s._v(" "),a("li",[s._v("è‡ªåŠ¨è§£æ package.json ä¸­çš„å…¥å£å­—æ®µï¼Œæ‹¼æ¥å…¥å£è·¯å¾„åˆ°ä¸Šä¸€æ­¥çš„å®Œæ•´è·¯å¾„ä¸­ï¼›")]),s._v(" "),a("li",[s._v("è‡ªåŠ¨è§£ææ˜¯å¦éœ€è¦æ·»åŠ åç¼€æˆ–è€…è¡¥å…¨ index è·¯å¾„ï¼›")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"axios"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// => è‡ªåŠ¨æ‹¼æ¥ node_modules è·¯å¾„")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/User/xxxx/workspace/node_modules/axios"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// => è‡ªåŠ¨è§£æ package.jsonï¼Œæ‹¼æ¥å…¥å£")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/User/xxxx/workspace/node_modules/axios/axios.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("h3",{attrs:{id:"webpack-çš„æ¨¡å—è§£ææœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-çš„æ¨¡å—è§£ææœºåˆ¶"}},[s._v("#")]),s._v(" Webpack çš„æ¨¡å—è§£ææœºåˆ¶")]),s._v(" "),a("p",[s._v("Webpack æ˜¯åŸºäº bundle çš„å¼€å‘æ¨¡å¼ï¼Œå³å°†æ‰€æœ‰çš„ä¾èµ–æœ€ç»ˆæ‰“åŒ…æˆä¸€ä¸ªå¤§çš„ bundle.jsã€‚Webpack ä¸ºäº†"),a("code",[s._v("ä½¿å¾—å¼€å‘ web app æ—¶ä½¿ç”¨çš„ CommonJS è¯­æ³•ä¸å¼€å‘ Nodejs app æ—¶ä¿æŒä¸€è‡´")]),s._v("ï¼Œä¼šåœ¨ webpack bundle çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨æ³¨å…¥ Nodejs çš„ CommonJS æ¨¡å—å¤„ç†é€»è¾‘ã€‚ä½†å…¶å®ï¼ŒäºŒè€…çš„åº•å±‚å®ç°å®Œå…¨ä¸åŒï¼š")]),s._v(" "),a("ul",[a("li",[s._v("Nodejs çš„ CommonJS å®ç°æ˜¯åŸºäºå†…ç½®çš„ Module ç­‰æ¨¡å—ï¼Œåœ¨ Nodejs core å±‚å®ç°åº•å±‚é€»è¾‘ï¼›")]),s._v(" "),a("li",[s._v("Webpack çš„ CommonJS å®ç°åˆ™æ˜¯ Webpack è‡ªå·±å®ç°çš„ä¸€å¥—é€»è¾‘ï¼š\n"),a("ul",[a("li",[s._v("ç¼–è¯‘æ—¶å€ŸåŠ© enhanced-resolveï¼ˆæ‰©å±•è‡ªå®šä¹‰ mainfieldã€extension å’Œ aliasï¼‰ï¼›")]),s._v(" "),a("li",[s._v("è¿è¡Œæ—¶é€šè¿‡ webpack-runtime æ”¯æŒ cjs çš„è¿è¡Œï¼›")]),s._v(" "),a("li",[s._v("ä»è€Œä¿è¯æš´éœ²ç»™ç”¨æˆ·çš„é¡¶å±‚æ¥å£ä¸ Nodejs æ˜¯ä¸€è‡´çš„ã€‚")])])])]),s._v(" "),a("h3",{attrs:{id:"æµè§ˆå™¨-çš„æ¨¡å—è§£ææœºåˆ¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æµè§ˆå™¨-çš„æ¨¡å—è§£ææœºåˆ¶"}},[s._v("#")]),s._v(" æµè§ˆå™¨ çš„æ¨¡å—è§£ææœºåˆ¶")]),s._v(" "),a("p",[s._v("Nodejs å’Œ Webpack ä¹‹æ‰€ä»¥èƒ½åŠ è½½ CommonJS çš„ä¾èµ–æ’ä»¶ï¼Œæ˜¯å› ä¸ºå®ƒä»¬å„è‡ªåšäº†å¤§é‡çš„åº•å±‚å®ç°ã€‚ä½†æµè§ˆå™¨æ˜¯æ²¡æœ‰åŸç”Ÿå®ç° CommonJS æ¨¡å—åŠ è½½æœºåˆ¶çš„ï¼Œå› æ­¤ï¼Œè™½ç„¶æµè§ˆå™¨å·²ç»åŸç”Ÿæ”¯æŒäº† ESMï¼Œä½†å¹¶ä¸èƒ½ç›´æ¥ä½¿ç”¨ CommonJS æ¨¡å—ã€‚")]),s._v(" "),a("h2",{attrs:{id:"æ¼”è¿›-ä¸‹ä¸€ä»£-web-app-å¼€å‘æ¨¡å¼"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¼”è¿›-ä¸‹ä¸€ä»£-web-app-å¼€å‘æ¨¡å¼"}},[s._v("#")]),s._v(" æ¼”è¿›ï¼šä¸‹ä¸€ä»£ Web App å¼€å‘æ¨¡å¼")]),s._v(" "),a("p",[s._v("æµè§ˆå™¨åŸç”Ÿå®ç°äº† ESM è§„èŒƒï¼Œé‚£ä¹ˆå¦‚ä½•åœ¨ ESM çš„æ ‡å‡†ä¸‹ä½¿ç”¨ç¬¬ä¸‰æ–¹ä¾èµ–å‘¢ï¼Ÿå¯¹äºå·¨å¤§å­˜é‡çš„ CommonJS æ¨¡å—ï¼Œç¤¾åŒºä¾ç„¶æ˜¯æƒ³è®¾æ³•å°†å…¶ç›´æ¥é€šè¿‡æµè§ˆå™¨æ¥åŠ è½½ï¼Œä»è€Œå˜é©ä¼ ç»Ÿ Web App çš„å¼€å‘æ¨¡å¼ã€‚å½“å‰ç¤¾åŒºæœ‰ä¸¤ç§æ€è·¯ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("CommonJS to ESModuleï¼›")]),s._v(" "),a("li",[s._v("Snowpack & Viteï¼›")])]),s._v(" "),a("h3",{attrs:{id:"commonjs-to-esmodule"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#commonjs-to-esmodule"}},[s._v("#")]),s._v(" CommonJS to ESModule")]),s._v(" "),a("p",[s._v("æµè§ˆå™¨æ— æ³•ä½¿ç”¨ CommonJS æ¨¡å—çš„æœ¬è´¨ï¼Œå°±æ˜¯æµè§ˆå™¨æœ¬èº«å¹¶æ²¡æœ‰å®ç°ä»»ä½• CommonJS æ¨¡å—åŠ è½½æœºåˆ¶ã€‚ç»“åˆå½“å‰ä¸»æµæµè§ˆå™¨æ”¯æŒ ESM æ¨¡å—çš„èƒŒæ™¯ï¼Œæœ€å¥½çš„åŠæ³•å°±æ˜¯å°† CommonJS æ¨¡å—è½¬æˆ ESM æ¨¡å—ã€‚")]),s._v(" "),a("p",[s._v("ç¤¾åŒºä¸»æµçš„è½¬æ¢æ–¹æ¡ˆæœ‰ï¼š")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://jspm.dev/@babel/core",target:"_blank",rel:"noopener noreferrer"}},[s._v("jspm"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"http://cdn.skypack.dev/@babel/core",target:"_blank",rel:"noopener noreferrer"}},[s._v("skypackï¼ˆå‰èº«æ˜¯ pikaï¼‰"),a("OutboundLink")],1),s._v(" "),a("ul",[a("li",[s._v("pika å°†ç¬¬ä¸‰æ–¹ä¾èµ–çš„ commonjs ä»£ç ç»è¿‡è½¬åŒ–å˜æˆäº† esm æ¨¡å—ï¼ŒåŒæ—¶åšäº†ç¼“å­˜ï¼›")]),s._v(" "),a("li",[s._v("pika æä¾›äº† cdn æœåŠ¡ï¼Œç”¨æ¥ç›´æ¥åœ¨é¡¹ç›®ä¸­å¼•ç”¨ç¬¬ä¸‰æ–¹ä¾èµ–ï¼›")]),s._v(" "),a("li",[s._v("pika å®ç°äº† npm ä¸Šå¤§éƒ¨åˆ† commonjs æ¨¡å—çš„ç›´æ¥å¤ç”¨")])])]),s._v(" "),a("li",[a("a",{attrs:{href:"http://esm.sh/@babel/core",target:"_blank",rel:"noopener noreferrer"}},[s._v("esm.sh"),a("OutboundLink")],1)])]),s._v(" "),a("p",[s._v("ä¸Šè¿°å·¥å…·çš„å¤„ç†æ–¹æ¡ˆå¤§è‡´éƒ½æ˜¯åˆ©ç”¨è½¬æ¢ï¼ˆæ„å»ºï¼‰å·¥å…·ï¼Œæ¯”å¦‚ Rollupã€EsBuild ç­‰ï¼Œå°† CommonJS çš„è¯­æ³•å‡çº§ä¸º ESModule è¯­æ³•ï¼ŒåŒæ—¶å°†å…¶ä¸­å¼•å…¥å…¶ä»–ä¸‰æ–¹ä¾èµ–çš„è·¯å¾„è½¬åŒ–æ‹¼æ¥ä¸ºå¯¹åº”çš„ ESModule è·¯å¾„ï¼š")]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("const")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"axios"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// =>")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/esm/axios.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("export")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" axios"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),a("p",[s._v("æ¯”å¦‚ pika cdn æœåŠ¡ï¼Œèƒ½å¤Ÿå®ç°ç±»ä¼¼äºä¹‹å‰ npm çš„åŠŸèƒ½ï¼Œå³æä¾›å•ä¸ªä¾èµ–çš„ä½¿ç”¨å’Œç®¡ç†ã€‚")]),s._v(" "),a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),s._v("script")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[s._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')]),s._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" axios "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"http://cdn.skypack.dev/axios"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// TODO...")]),s._v("\n")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("</")]),s._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v("\n")])])]),a("p",[s._v("ä½†è¿™ç§å¼€å‘æ¨¡å¼åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œä¼šæœ‰è¯¸å¤šé—®é¢˜ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯"),a("code",[s._v("ã€Œè¯·æ±‚çˆ†ç‚¸ğŸ’¥ã€")]),s._v("ã€‚æ¯”å¦‚åŠ è½½ä¸€ä¸ª UI ç»„ä»¶åº“ï¼Œå…¶ä¸­ä½¿ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹ä¾èµ–æœ‰æˆç™¾ä¸Šåƒä¸ªï¼Œç”±äºæ²¡æœ‰ bundleï¼ŒåŠ è½½è¿™äº›ä¾èµ–å˜æˆäº†ç‹¬ç«‹çš„ç½‘ç»œè¯·æ±‚ï¼ŒåŠ è½½ç»„ä»¶åº“éœ€è¦å‘é€ä¸Šåƒä¸ªç½‘ç»œè¯·æ±‚ï¼Œä¸ä»…åŠ é‡äº†é¦–å±æ¸²æŸ“å‹åŠ›ï¼Œå¯¹æ•´ä¸ªå¼€å‘é“¾è·¯ä¹Ÿé€ æˆäº†ä¸¥é‡è´Ÿæ‹…ã€‚")]),s._v(" "),a("p",[s._v("åŸºäºä¸Šè¿°åŸå› ï¼Œä¸‹ä¸€ä»£ Web App å¼€å‘å·¥å…·ä¹Ÿéšä¹‹äº§ç”Ÿã€‚")]),s._v(" "),a("h3",{attrs:{id:"esm-å¼€å‘å·¥å…·-snowpack-vite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#esm-å¼€å‘å·¥å…·-snowpack-vite"}},[s._v("#")]),s._v(" ESM å¼€å‘å·¥å…·ï¼šSnowpack & Vite")]),s._v(" "),a("p",[s._v("ä»é¡¹ç›®çš„è§’åº¦è®²ï¼Œã€Œè¯·æ±‚çˆ†ç‚¸ ğŸ’¥ã€çš„äº§ç”Ÿæ˜¯ç”±äºï¼Œpika cdn è™½ç„¶æä¾›äº†ä¾èµ–ç®¡ç†çš„èƒ½åŠ›ï¼Œä½†æ˜¯è¿˜ç¼ºä¹äº†ç±»ä¼¼ä¹‹å‰ webpack æ‰“åŒ…æ•´ä¸ªé¡¹ç›®çš„åŠŸèƒ½ã€‚è¿™è¯´æ˜"),a("code",[s._v("bundle çš„è¿‡ç¨‹æ˜¯å¿…ä¸å¯å°‘çš„")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("åœ¨åŸå…ˆ Webpack çš„ç†å¿µä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶éƒ½æ˜¯æ¨¡å—ï¼Œè¿™äº›æ¨¡å—æœ€ç»ˆéƒ½ä¼šè¢«æ‰“åŒ…è¿› bundle.js ä¸­ã€‚è¿™å°±å¯¼è‡´äº†æ•´ä¸ª bundle çš„è¿‡ç¨‹å‡ ä¹æ˜¯ä¸å¯å¤ç”¨çš„ï¼Œæ¯æ¬¡å¯åŠ¨ devServer éƒ½éœ€è¦é‡æ–° bundleï¼ˆéå¸¸è€—è´¹æ—¶é—´å’Œæ€§èƒ½ï¼‰ã€‚ä½†å…¶å®ç¬¬ä¸‰æ–¹ä¾èµ–ä»£ç ä¸ä¼šç»å¸¸æ”¹å˜ï¼Œä¸”æµè§ˆå™¨å·²ç»æ”¯æŒ ESM è§„èŒƒæ¨¡å—çš„åŠ è½½ï¼Œå› æ­¤ï¼Œ"),a("code",[s._v("å¼€å‘å·¥å…·å¯ä»¥å°†ä¾èµ–çš„åŠ è½½å…¨éƒ¨äº¤ç”±æµè§ˆå™¨æœ¬èº«æ¥ç®¡ï¼Œè€Œè‡ªèº«åªè´Ÿè´£ cjs æ¨¡å—åˆ° esm æ¨¡å—çš„è½¬æ¢ï¼Œä»¥åŠ bundle çš„è¿‡ç¨‹ï¼ˆåªéœ€è¦å°†ä¾èµ– bundle ä¸€æ¬¡ï¼Œåç»­å°±ä¸ç”¨å†å¤šåšå¤„ç†ï¼‰")]),s._v("ã€‚")]),s._v(" "),a("h4",{attrs:{id:"snowpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#snowpack"}},[s._v("#")]),s._v(" Snowpack")]),s._v(" "),a("p",[s._v("åŸºäºä¸Šè¿°åŸå› ï¼Œpika æä¾›äº† snowpackï¼ˆä¸€ä¸ª ESM çš„æ„å»ºå·¥å…·ï¼‰ï¼Œ"),a("code",[s._v("å°†æ–‡ä»¶ç¼–è¯‘æˆ ESM")]),s._v(" å¹¶"),a("code",[s._v("æ‰“åˆ° web_modules ç›®å½•")]),s._v("ï¼ˆæ•´ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å…¨æ˜¯ç¬¦åˆ ESM è§„èŒƒçš„ js æ–‡ä»¶ï¼Œè¿™ä¸ªç”¨æ³•ä¹Ÿæ˜¯ ESM è§„èŒƒæ‰€æå€¡çš„ï¼‰ã€‚")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/web_modules\n    /common\n        /index.hash.js\n    /index.js\n    /react.js\n    /react-dom.js\n")])])]),a("p",[s._v("snowpack è¿˜åšäº†å…¶ä»–å·¥ä½œï¼Œæ¯”å¦‚å¤„ç†æ ·å¼æ–‡ä»¶ï¼Œå¤„ç† css é¢„å¤„ç†å™¨ç­‰å…¶ä»–åŠŸèƒ½ã€‚è¿™äº›å·¥ä½œè™½ç„¶ webpack å·²ç»æœ‰å¾ˆå¥½çš„å®è·µï¼Œä½†æ˜¯ç”±äºç”Ÿæ€ä¸åŒï¼Œå› æ­¤ï¼Œå‡ ä¹ä¸å¯å¤ç”¨ï¼Œéœ€é‡å¤å¼€å‘ï¼Œæ‰€ä»¥è¿˜æœ‰äº›å‘ï¼Œå¹¶ä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒã€‚")]),s._v(" "),a("h4",{attrs:{id:"vite"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vite"}},[s._v("#")]),s._v(" Vite")]),s._v(" "),a("p",[s._v("ç•¥")]),s._v(" "),a("h3",{attrs:{id:"å¼€å‘æ¨¡å¼-devserver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼€å‘æ¨¡å¼-devserver"}},[s._v("#")]),s._v(" å¼€å‘æ¨¡å¼ï¼ˆDevServerï¼‰")]),s._v(" "),a("ul",[a("li",[s._v("Create-snowpack-appï¼ˆreactï¼‰")]),s._v(" "),a("li",[s._v("Create-vite-appï¼ˆvue3ï¼‰")])]),s._v(" "),a("ol",[a("li",[s._v("èµ·ä¸€ä¸ª proxy dev æœåŠ¡å™¨ï¼›")]),s._v(" "),a("li",[s._v("å°† src ç›®å½•ä¸‹çš„æ–‡ä»¶ç¼–è¯‘ä¸€ä¸‹ï¼ˆrollupï¼ŒåŠ ä¸ªè‡ªå®šä¹‰æ’ä»¶å¤„ç†ä¸€ä¸‹ç¬¬ä¸‰æ–¹ä¾èµ–çš„å¼•å…¥è·¯å¾„ï¼‰ï¼›")]),s._v(" "),a("li",[s._v("rollup æ‰“åŒ…ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ˆå¤„ç† vendorï¼‰ï¼Œæ”¾å…¥ web_modules ç›®å½•ï¼›")]),s._v(" "),a("li",[s._v("æ–‡ä»¶ä»£ç†ã€‚")])]),s._v(" "),a("p",[s._v("æ¨¡å—çš„å¼•å…¥å®Œå…¨æ˜¯æµè§ˆå™¨å®ç°çš„ ESM è§„èŒƒã€‚")]),s._v(" "),a("h3",{attrs:{id:"å…·å¤‡ä¼˜åŠ¿-ä½†æ¨è¿›å›°éš¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å…·å¤‡ä¼˜åŠ¿-ä½†æ¨è¿›å›°éš¾"}},[s._v("#")]),s._v(" å…·å¤‡ä¼˜åŠ¿ï¼Œä½†æ¨è¿›å›°éš¾")]),s._v(" "),a("p",[s._v("è¿™ç§æ–°çš„å¼€å‘æ¨¡å¼ä¸€æ–¹é¢é™ä½äº†å¼€å‘å·¥å…·çš„å¤æ‚æ€§ï¼ˆåˆ©ç”¨æµè§ˆå™¨åŸç”Ÿçš„æ¨¡å—åŠ è½½æœºåˆ¶ï¼Œå¼€å‘å·¥å…·ä¸å†æ¥ç®¡ä¾èµ–çš„åŠ è½½ï¼‰ï¼Œå¦ä¸€æ–¹é¢å¤§å¤§æå‡çš„åº”ç”¨çš„å¯åŠ¨é€Ÿåº¦ï¼Œå’Œæœ¬åœ°å¼€å‘çš„è°ƒè¯•ä½“éªŒï¼ˆä¸ç”¨åœ¨æ¯æ¬¡å¯åŠ¨ dev server æ—¶å»é‡æ–°å¤„ç† node_modulesï¼‰ã€‚")]),s._v(" "),a("p",[s._v("ä½†æ˜¯ï¼Œä»æ•´ä¸ªç”Ÿæ€ç¯å¢ƒæ¥çœ‹ï¼Œæ–°ä¸€ä»£å¼€å‘æ¨¡å¼çš„æ¨è¿›ä¸å®¹ä¹è§‚ï¼Œæœ‰ä¸€äº›é€šç—…ï¼š")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("ç”Ÿæ€ä¸å®Œå–„")]),s._v("ï¼Œ Webpack å·²ç»æ”¯æŒå¾ˆå¥½çš„åŠŸèƒ½è¿˜æ²¡æœ‰å¾—åˆ°å®˜æ–¹çš„æ”¯æŒã€‚")]),s._v(" "),a("li",[a("strong",[s._v("CommonJS å‘ ESModule çš„è½¬æ¢ä¸å®Œå–„")]),s._v("ï¼Œç¼ºå¤±å®Œå–„çš„è§£å†³æœºåˆ¶ã€‚\n"),a("ol",[a("li",[s._v("åŠ¨æ€å¼•å…¥ä¸é™æ€è§£æ")])]),s._v(" "),a("ul",[a("li",[s._v("CommonJS ä¸­ï¼Œæ¨¡å—çš„å¼•å…¥ä¸å¯¼å‡ºæ˜¯åŠ¨æ€çš„è¯­æ³•ï¼Œå› æ­¤è¦æƒ³æ‹¿åˆ°ä¸€ä¸ªæ¨¡å—å®Œæ•´çš„å¯¼å…¥æˆ–è€…å¯¼å‡ºï¼Œå¿…é¡»å¾—ç­‰åˆ°é‚£ä¸ªæ¨¡å—å…·ä½“æ‰§è¡Œçš„æ—¶å€™æ‰èƒ½ç¡®è®¤ã€‚")]),s._v(" "),a("li",[s._v("è€Œ ESModule ä¸­ï¼Œæ¨¡å—è¯­æ³•æ˜¯éœ€è¦è¢«è§£é‡Šå™¨é™æ€è§£æçš„ï¼Œè¿™å°±è¦æ±‚å¯¼å‡ºè¯­æ³•å¿…é¡»å£°æ˜åœ¨ä½œç”¨åŸŸçš„æœ€é¡¶å±‚ã€‚")])]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[s._v("å…·åå¯¼å‡ºä¸é»˜è®¤å¯¼å‡º")])]),s._v(" "),a("ul",[a("li",[s._v("åœ¨ CommonJS ä¸­ï¼Œå¯¹å…·åå¯¼å‡ºå’Œé»˜è®¤å¯¼å‡ºæ˜¯æ²¡æœ‰å…·ä½“åšé™å®šçš„ï¼ŒNode.js çš„ä¸€ä¸ªæ¨¡å—ä¸­ï¼Œå…¨å±€çš„ exports === module.exportsã€‚")]),s._v(" "),a("li",[s._v("è€Œåœ¨ ESModule ä¸­ï¼Œå¯¹å…·åå¯¼å‡ºå’Œé»˜è®¤å¯¼å‡ºåšå‡ºäº†ä¸€ä¸ªå…·ä½“çš„é™å®šï¼Œè€Œä¸”åœ¨å¯¼å…¥è¯­æ³•ä¸­ä¹Ÿæœ‰æ˜æ˜¾çš„åŒºåˆ«ã€‚")])])])]),s._v(" "),a("h2",{attrs:{id:"å‚è€ƒé“¾æ¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒé“¾æ¥"}},[s._v("#")]),s._v(" å‚è€ƒé“¾æ¥")]),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.ruanyifeng.com/blog/2020/08/how-Nodejs-use-es6-module.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Nodejs å¦‚ä½•å¤„ç† ES6 æ¨¡å— - é˜®ä¸€å³°"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://jishuin.proginn.com/p/763bfbd5b452",target:"_blank",rel:"noopener noreferrer"}},[s._v("ESModule ç³»åˆ— ãˆ  ï¼šæ¼”è¿›"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://blog.csdn.net/weixin_39843414/article/details/108945706",target:"_blank",rel:"noopener noreferrer"}},[s._v("ä¸ºä»€ä¹ˆ CommonJS å’Œ ES Modules æ— æ³•ç›¸äº’åè°ƒ"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);t.default=n.exports}}]);