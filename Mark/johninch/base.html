<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基础知识提纲 | Roundtable Coders</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="manifest" href="/Roundtable/manifest.json">
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
    <script src="./js/search.js"></script>
    <script src="./js/main.js"></script>
    <meta name="description" content="A knowledge base created by ESOP-FED">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/Roundtable/assets/css/0.styles.473b2e6f.css" as="style"><link rel="preload" href="/Roundtable/assets/js/app.2a67b391.js" as="script"><link rel="preload" href="/Roundtable/assets/js/3.732c8675.js" as="script"><link rel="preload" href="/Roundtable/assets/js/194.ff356ef2.js" as="script"><link rel="prefetch" href="/Roundtable/assets/js/10.70a3801e.js"><link rel="prefetch" href="/Roundtable/assets/js/100.6d4d41b2.js"><link rel="prefetch" href="/Roundtable/assets/js/101.fcca3442.js"><link rel="prefetch" href="/Roundtable/assets/js/102.be877f9d.js"><link rel="prefetch" href="/Roundtable/assets/js/103.a3013f74.js"><link rel="prefetch" href="/Roundtable/assets/js/104.790e4ad7.js"><link rel="prefetch" href="/Roundtable/assets/js/105.fa290a0c.js"><link rel="prefetch" href="/Roundtable/assets/js/106.6cdd50e8.js"><link rel="prefetch" href="/Roundtable/assets/js/107.3360e87b.js"><link rel="prefetch" href="/Roundtable/assets/js/108.b272cdae.js"><link rel="prefetch" href="/Roundtable/assets/js/109.0d37c586.js"><link rel="prefetch" href="/Roundtable/assets/js/11.3046242f.js"><link rel="prefetch" href="/Roundtable/assets/js/110.9133ded6.js"><link rel="prefetch" href="/Roundtable/assets/js/111.2bb986d4.js"><link rel="prefetch" href="/Roundtable/assets/js/112.ff4b597c.js"><link rel="prefetch" href="/Roundtable/assets/js/113.db617ac9.js"><link rel="prefetch" href="/Roundtable/assets/js/114.e0aa3101.js"><link rel="prefetch" href="/Roundtable/assets/js/115.cae2a328.js"><link rel="prefetch" href="/Roundtable/assets/js/116.407db280.js"><link rel="prefetch" href="/Roundtable/assets/js/117.c15103af.js"><link rel="prefetch" href="/Roundtable/assets/js/118.d45ea389.js"><link rel="prefetch" href="/Roundtable/assets/js/119.8cccbd3c.js"><link rel="prefetch" href="/Roundtable/assets/js/12.74240992.js"><link rel="prefetch" href="/Roundtable/assets/js/120.ad57c2ac.js"><link rel="prefetch" href="/Roundtable/assets/js/121.321491cb.js"><link rel="prefetch" href="/Roundtable/assets/js/122.5b9cb99e.js"><link rel="prefetch" href="/Roundtable/assets/js/123.3693283f.js"><link rel="prefetch" href="/Roundtable/assets/js/124.f2f94bcd.js"><link rel="prefetch" href="/Roundtable/assets/js/125.800e216a.js"><link rel="prefetch" href="/Roundtable/assets/js/126.ccfa7506.js"><link rel="prefetch" href="/Roundtable/assets/js/127.827d6fd0.js"><link rel="prefetch" href="/Roundtable/assets/js/128.4bb30b21.js"><link rel="prefetch" href="/Roundtable/assets/js/129.4bd1cde6.js"><link rel="prefetch" href="/Roundtable/assets/js/13.cb9adb73.js"><link rel="prefetch" href="/Roundtable/assets/js/130.7fcf95f5.js"><link rel="prefetch" href="/Roundtable/assets/js/131.3fe83ad0.js"><link rel="prefetch" href="/Roundtable/assets/js/132.6d1cf839.js"><link rel="prefetch" href="/Roundtable/assets/js/133.d7c0179f.js"><link rel="prefetch" href="/Roundtable/assets/js/134.0ab1bbd2.js"><link rel="prefetch" href="/Roundtable/assets/js/135.4799fc28.js"><link rel="prefetch" href="/Roundtable/assets/js/136.a9857742.js"><link rel="prefetch" href="/Roundtable/assets/js/137.de32658f.js"><link rel="prefetch" href="/Roundtable/assets/js/138.131970d4.js"><link rel="prefetch" href="/Roundtable/assets/js/139.510eca2c.js"><link rel="prefetch" href="/Roundtable/assets/js/14.84cf25a4.js"><link rel="prefetch" href="/Roundtable/assets/js/140.31d81849.js"><link rel="prefetch" href="/Roundtable/assets/js/141.ecab44ef.js"><link rel="prefetch" href="/Roundtable/assets/js/142.9b87f059.js"><link rel="prefetch" href="/Roundtable/assets/js/143.9e78db1a.js"><link rel="prefetch" href="/Roundtable/assets/js/144.747a1adb.js"><link rel="prefetch" href="/Roundtable/assets/js/145.ecb740c7.js"><link rel="prefetch" href="/Roundtable/assets/js/146.0e517c82.js"><link rel="prefetch" href="/Roundtable/assets/js/147.d49abd2f.js"><link rel="prefetch" href="/Roundtable/assets/js/148.7267563b.js"><link rel="prefetch" href="/Roundtable/assets/js/149.5e31edca.js"><link rel="prefetch" href="/Roundtable/assets/js/15.41b69e8d.js"><link rel="prefetch" href="/Roundtable/assets/js/150.7bc85a86.js"><link rel="prefetch" href="/Roundtable/assets/js/151.1b7df4d0.js"><link rel="prefetch" href="/Roundtable/assets/js/152.5135ca06.js"><link rel="prefetch" href="/Roundtable/assets/js/153.bf2198df.js"><link rel="prefetch" href="/Roundtable/assets/js/154.dd398659.js"><link rel="prefetch" href="/Roundtable/assets/js/155.60d49601.js"><link rel="prefetch" href="/Roundtable/assets/js/156.9e37bcf0.js"><link rel="prefetch" href="/Roundtable/assets/js/157.21487c71.js"><link rel="prefetch" href="/Roundtable/assets/js/158.249ec3e8.js"><link rel="prefetch" href="/Roundtable/assets/js/159.5f6b4574.js"><link rel="prefetch" href="/Roundtable/assets/js/16.fc0a01fe.js"><link rel="prefetch" href="/Roundtable/assets/js/160.a53feb2a.js"><link rel="prefetch" href="/Roundtable/assets/js/161.a8337587.js"><link rel="prefetch" href="/Roundtable/assets/js/162.fc15fdde.js"><link rel="prefetch" href="/Roundtable/assets/js/163.4b7c8177.js"><link rel="prefetch" href="/Roundtable/assets/js/164.025fcf3b.js"><link rel="prefetch" href="/Roundtable/assets/js/165.ef23ebf7.js"><link rel="prefetch" href="/Roundtable/assets/js/166.038dc924.js"><link rel="prefetch" href="/Roundtable/assets/js/167.29b0c6f9.js"><link rel="prefetch" href="/Roundtable/assets/js/168.105a5ee7.js"><link rel="prefetch" href="/Roundtable/assets/js/169.49931161.js"><link rel="prefetch" href="/Roundtable/assets/js/17.6115e7ae.js"><link rel="prefetch" href="/Roundtable/assets/js/170.d425a26e.js"><link rel="prefetch" href="/Roundtable/assets/js/171.4ae8ecd7.js"><link rel="prefetch" href="/Roundtable/assets/js/172.b299c9c5.js"><link rel="prefetch" href="/Roundtable/assets/js/173.1420b439.js"><link rel="prefetch" href="/Roundtable/assets/js/174.9be3cfdc.js"><link rel="prefetch" href="/Roundtable/assets/js/175.2a1a6b86.js"><link rel="prefetch" href="/Roundtable/assets/js/176.d0f4b4d3.js"><link rel="prefetch" href="/Roundtable/assets/js/177.a258c9e6.js"><link rel="prefetch" href="/Roundtable/assets/js/178.9935fc45.js"><link rel="prefetch" href="/Roundtable/assets/js/179.920c93cb.js"><link rel="prefetch" href="/Roundtable/assets/js/18.f1a49ff6.js"><link rel="prefetch" href="/Roundtable/assets/js/180.45647437.js"><link rel="prefetch" href="/Roundtable/assets/js/181.455ff928.js"><link rel="prefetch" href="/Roundtable/assets/js/182.48d5397a.js"><link rel="prefetch" href="/Roundtable/assets/js/183.50a1f034.js"><link rel="prefetch" href="/Roundtable/assets/js/184.f3ebafc0.js"><link rel="prefetch" href="/Roundtable/assets/js/185.c4ec70bf.js"><link rel="prefetch" href="/Roundtable/assets/js/186.95c65138.js"><link rel="prefetch" href="/Roundtable/assets/js/187.1d93070c.js"><link rel="prefetch" href="/Roundtable/assets/js/188.f2fd4622.js"><link rel="prefetch" href="/Roundtable/assets/js/189.929d7460.js"><link rel="prefetch" href="/Roundtable/assets/js/19.d0f5a2a6.js"><link rel="prefetch" href="/Roundtable/assets/js/190.d7753e79.js"><link rel="prefetch" href="/Roundtable/assets/js/191.164337ba.js"><link rel="prefetch" href="/Roundtable/assets/js/192.073fa32a.js"><link rel="prefetch" href="/Roundtable/assets/js/193.a41f613a.js"><link rel="prefetch" href="/Roundtable/assets/js/195.da2cb5f0.js"><link rel="prefetch" href="/Roundtable/assets/js/196.27aa5846.js"><link rel="prefetch" href="/Roundtable/assets/js/197.dbd4ea86.js"><link rel="prefetch" href="/Roundtable/assets/js/198.2341d363.js"><link rel="prefetch" href="/Roundtable/assets/js/199.dca16941.js"><link rel="prefetch" href="/Roundtable/assets/js/20.2b68ff2a.js"><link rel="prefetch" href="/Roundtable/assets/js/200.0f555a22.js"><link rel="prefetch" href="/Roundtable/assets/js/201.c636a8c2.js"><link rel="prefetch" href="/Roundtable/assets/js/202.00058dde.js"><link rel="prefetch" href="/Roundtable/assets/js/203.2eea9503.js"><link rel="prefetch" href="/Roundtable/assets/js/204.6e549015.js"><link rel="prefetch" href="/Roundtable/assets/js/205.5057b08b.js"><link rel="prefetch" href="/Roundtable/assets/js/206.cfbe6788.js"><link rel="prefetch" href="/Roundtable/assets/js/207.9246b65b.js"><link rel="prefetch" href="/Roundtable/assets/js/208.a106f85b.js"><link rel="prefetch" href="/Roundtable/assets/js/209.ae5edced.js"><link rel="prefetch" href="/Roundtable/assets/js/21.06c46f7a.js"><link rel="prefetch" href="/Roundtable/assets/js/210.cde0d451.js"><link rel="prefetch" href="/Roundtable/assets/js/211.56841a89.js"><link rel="prefetch" href="/Roundtable/assets/js/212.a2513586.js"><link rel="prefetch" href="/Roundtable/assets/js/213.548d24cc.js"><link rel="prefetch" href="/Roundtable/assets/js/214.076a26db.js"><link rel="prefetch" href="/Roundtable/assets/js/215.383c3c60.js"><link rel="prefetch" href="/Roundtable/assets/js/216.70ac75ec.js"><link rel="prefetch" href="/Roundtable/assets/js/217.7b2d6be8.js"><link rel="prefetch" href="/Roundtable/assets/js/218.cac91c4c.js"><link rel="prefetch" href="/Roundtable/assets/js/219.c8023d2a.js"><link rel="prefetch" href="/Roundtable/assets/js/22.ad9a9484.js"><link rel="prefetch" href="/Roundtable/assets/js/220.9f37e38b.js"><link rel="prefetch" href="/Roundtable/assets/js/221.ef07e5bb.js"><link rel="prefetch" href="/Roundtable/assets/js/222.a9351166.js"><link rel="prefetch" href="/Roundtable/assets/js/223.dda0229f.js"><link rel="prefetch" href="/Roundtable/assets/js/224.a6ce1883.js"><link rel="prefetch" href="/Roundtable/assets/js/225.632899a5.js"><link rel="prefetch" href="/Roundtable/assets/js/226.dd36ba08.js"><link rel="prefetch" href="/Roundtable/assets/js/227.1a84d25d.js"><link rel="prefetch" href="/Roundtable/assets/js/228.1ebb1e82.js"><link rel="prefetch" href="/Roundtable/assets/js/229.7e027b19.js"><link rel="prefetch" href="/Roundtable/assets/js/23.beb2862d.js"><link rel="prefetch" href="/Roundtable/assets/js/230.8fb55ecc.js"><link rel="prefetch" href="/Roundtable/assets/js/231.8145ad1c.js"><link rel="prefetch" href="/Roundtable/assets/js/232.0666f1b6.js"><link rel="prefetch" href="/Roundtable/assets/js/233.ad938079.js"><link rel="prefetch" href="/Roundtable/assets/js/234.0a0c6de3.js"><link rel="prefetch" href="/Roundtable/assets/js/235.70722d8a.js"><link rel="prefetch" href="/Roundtable/assets/js/236.508ff7cd.js"><link rel="prefetch" href="/Roundtable/assets/js/237.6fabed14.js"><link rel="prefetch" href="/Roundtable/assets/js/238.2441d3f4.js"><link rel="prefetch" href="/Roundtable/assets/js/239.ecbde05c.js"><link rel="prefetch" href="/Roundtable/assets/js/24.a4520e87.js"><link rel="prefetch" href="/Roundtable/assets/js/240.bcb7503a.js"><link rel="prefetch" href="/Roundtable/assets/js/241.0f39d71e.js"><link rel="prefetch" href="/Roundtable/assets/js/242.49c23a2b.js"><link rel="prefetch" href="/Roundtable/assets/js/243.bb476e73.js"><link rel="prefetch" href="/Roundtable/assets/js/244.24d6c58b.js"><link rel="prefetch" href="/Roundtable/assets/js/245.1ccbd137.js"><link rel="prefetch" href="/Roundtable/assets/js/246.df7d9449.js"><link rel="prefetch" href="/Roundtable/assets/js/247.660fe299.js"><link rel="prefetch" href="/Roundtable/assets/js/248.10cb80a3.js"><link rel="prefetch" href="/Roundtable/assets/js/249.eed5dc5e.js"><link rel="prefetch" href="/Roundtable/assets/js/25.17a60b3c.js"><link rel="prefetch" href="/Roundtable/assets/js/250.f288a89d.js"><link rel="prefetch" href="/Roundtable/assets/js/251.9dc81935.js"><link rel="prefetch" href="/Roundtable/assets/js/252.85530bdc.js"><link rel="prefetch" href="/Roundtable/assets/js/253.c5987f53.js"><link rel="prefetch" href="/Roundtable/assets/js/254.642bb309.js"><link rel="prefetch" href="/Roundtable/assets/js/255.dde65e9d.js"><link rel="prefetch" href="/Roundtable/assets/js/256.42b72968.js"><link rel="prefetch" href="/Roundtable/assets/js/257.983d1e31.js"><link rel="prefetch" href="/Roundtable/assets/js/258.2c57cdf5.js"><link rel="prefetch" href="/Roundtable/assets/js/259.7c6dbdcf.js"><link rel="prefetch" href="/Roundtable/assets/js/26.e245d43d.js"><link rel="prefetch" href="/Roundtable/assets/js/260.776a4c0e.js"><link rel="prefetch" href="/Roundtable/assets/js/261.b7c59dc5.js"><link rel="prefetch" href="/Roundtable/assets/js/262.147e3eda.js"><link rel="prefetch" href="/Roundtable/assets/js/263.f5e2fee0.js"><link rel="prefetch" href="/Roundtable/assets/js/264.708d2fd7.js"><link rel="prefetch" href="/Roundtable/assets/js/265.e92f4e6b.js"><link rel="prefetch" href="/Roundtable/assets/js/266.996eebcf.js"><link rel="prefetch" href="/Roundtable/assets/js/267.7195a488.js"><link rel="prefetch" href="/Roundtable/assets/js/268.44e38cbf.js"><link rel="prefetch" href="/Roundtable/assets/js/269.8ffd3512.js"><link rel="prefetch" href="/Roundtable/assets/js/27.949851ca.js"><link rel="prefetch" href="/Roundtable/assets/js/270.dd31add9.js"><link rel="prefetch" href="/Roundtable/assets/js/271.bcb8d475.js"><link rel="prefetch" href="/Roundtable/assets/js/272.b8da9de3.js"><link rel="prefetch" href="/Roundtable/assets/js/273.0219ced2.js"><link rel="prefetch" href="/Roundtable/assets/js/274.af61d3c7.js"><link rel="prefetch" href="/Roundtable/assets/js/275.5412975c.js"><link rel="prefetch" href="/Roundtable/assets/js/276.d61e471f.js"><link rel="prefetch" href="/Roundtable/assets/js/277.87ca63a0.js"><link rel="prefetch" href="/Roundtable/assets/js/278.3df4952e.js"><link rel="prefetch" href="/Roundtable/assets/js/279.bd547454.js"><link rel="prefetch" href="/Roundtable/assets/js/28.77287806.js"><link rel="prefetch" href="/Roundtable/assets/js/280.2abcb902.js"><link rel="prefetch" href="/Roundtable/assets/js/281.b15babf0.js"><link rel="prefetch" href="/Roundtable/assets/js/282.a1026c9f.js"><link rel="prefetch" href="/Roundtable/assets/js/283.1153e256.js"><link rel="prefetch" href="/Roundtable/assets/js/284.e5ffccb2.js"><link rel="prefetch" href="/Roundtable/assets/js/285.093448d3.js"><link rel="prefetch" href="/Roundtable/assets/js/286.a0a0cd00.js"><link rel="prefetch" href="/Roundtable/assets/js/287.a948b13e.js"><link rel="prefetch" href="/Roundtable/assets/js/288.79df6447.js"><link rel="prefetch" href="/Roundtable/assets/js/289.6f41ec0b.js"><link rel="prefetch" href="/Roundtable/assets/js/29.01548815.js"><link rel="prefetch" href="/Roundtable/assets/js/290.2e336aa3.js"><link rel="prefetch" href="/Roundtable/assets/js/291.fc886735.js"><link rel="prefetch" href="/Roundtable/assets/js/292.752ff5aa.js"><link rel="prefetch" href="/Roundtable/assets/js/293.02d2465d.js"><link rel="prefetch" href="/Roundtable/assets/js/294.18f7e9f8.js"><link rel="prefetch" href="/Roundtable/assets/js/295.454c891c.js"><link rel="prefetch" href="/Roundtable/assets/js/296.3adfc83c.js"><link rel="prefetch" href="/Roundtable/assets/js/297.d28ec585.js"><link rel="prefetch" href="/Roundtable/assets/js/298.df0e965c.js"><link rel="prefetch" href="/Roundtable/assets/js/299.28e754d0.js"><link rel="prefetch" href="/Roundtable/assets/js/30.73aac80a.js"><link rel="prefetch" href="/Roundtable/assets/js/300.72b2307a.js"><link rel="prefetch" href="/Roundtable/assets/js/301.3a4b7b5a.js"><link rel="prefetch" href="/Roundtable/assets/js/302.ea294ccc.js"><link rel="prefetch" href="/Roundtable/assets/js/303.9315e06b.js"><link rel="prefetch" href="/Roundtable/assets/js/304.49d60572.js"><link rel="prefetch" href="/Roundtable/assets/js/305.969fad20.js"><link rel="prefetch" href="/Roundtable/assets/js/306.2e6e6bd5.js"><link rel="prefetch" href="/Roundtable/assets/js/307.ea80271c.js"><link rel="prefetch" href="/Roundtable/assets/js/308.9b1ed249.js"><link rel="prefetch" href="/Roundtable/assets/js/309.f780fcea.js"><link rel="prefetch" href="/Roundtable/assets/js/31.233fa533.js"><link rel="prefetch" href="/Roundtable/assets/js/310.c65fbe43.js"><link rel="prefetch" href="/Roundtable/assets/js/311.5bbccaa1.js"><link rel="prefetch" href="/Roundtable/assets/js/312.2879b0b7.js"><link rel="prefetch" href="/Roundtable/assets/js/313.99d7c557.js"><link rel="prefetch" href="/Roundtable/assets/js/314.3c45e122.js"><link rel="prefetch" href="/Roundtable/assets/js/315.e90deb20.js"><link rel="prefetch" href="/Roundtable/assets/js/316.e40dd4f9.js"><link rel="prefetch" href="/Roundtable/assets/js/317.d271b499.js"><link rel="prefetch" href="/Roundtable/assets/js/318.244c1106.js"><link rel="prefetch" href="/Roundtable/assets/js/319.f76e550a.js"><link rel="prefetch" href="/Roundtable/assets/js/32.13bc3e83.js"><link rel="prefetch" href="/Roundtable/assets/js/320.6201d661.js"><link rel="prefetch" href="/Roundtable/assets/js/321.83daa393.js"><link rel="prefetch" href="/Roundtable/assets/js/322.48aaec2c.js"><link rel="prefetch" href="/Roundtable/assets/js/323.422c1a4c.js"><link rel="prefetch" href="/Roundtable/assets/js/324.28faac42.js"><link rel="prefetch" href="/Roundtable/assets/js/325.c58f5893.js"><link rel="prefetch" href="/Roundtable/assets/js/326.aa3c7342.js"><link rel="prefetch" href="/Roundtable/assets/js/327.d50dbf49.js"><link rel="prefetch" href="/Roundtable/assets/js/328.ba762f37.js"><link rel="prefetch" href="/Roundtable/assets/js/329.b26f992c.js"><link rel="prefetch" href="/Roundtable/assets/js/33.3cc42db3.js"><link rel="prefetch" href="/Roundtable/assets/js/330.88c8acf8.js"><link rel="prefetch" href="/Roundtable/assets/js/331.966b636b.js"><link rel="prefetch" href="/Roundtable/assets/js/332.66342b63.js"><link rel="prefetch" href="/Roundtable/assets/js/333.085ee3b7.js"><link rel="prefetch" href="/Roundtable/assets/js/34.b7f1e21a.js"><link rel="prefetch" href="/Roundtable/assets/js/35.f5b0ffef.js"><link rel="prefetch" href="/Roundtable/assets/js/36.4f1a3753.js"><link rel="prefetch" href="/Roundtable/assets/js/37.4bf027a3.js"><link rel="prefetch" href="/Roundtable/assets/js/38.fbdf2f41.js"><link rel="prefetch" href="/Roundtable/assets/js/39.ec7b84c4.js"><link rel="prefetch" href="/Roundtable/assets/js/4.05324643.js"><link rel="prefetch" href="/Roundtable/assets/js/40.8570da27.js"><link rel="prefetch" href="/Roundtable/assets/js/41.f7c69cef.js"><link rel="prefetch" href="/Roundtable/assets/js/42.dcc58233.js"><link rel="prefetch" href="/Roundtable/assets/js/43.2decb03b.js"><link rel="prefetch" href="/Roundtable/assets/js/44.879a85b2.js"><link rel="prefetch" href="/Roundtable/assets/js/45.5069e7a9.js"><link rel="prefetch" href="/Roundtable/assets/js/46.f202c415.js"><link rel="prefetch" href="/Roundtable/assets/js/47.6037b8b6.js"><link rel="prefetch" href="/Roundtable/assets/js/48.37326281.js"><link rel="prefetch" href="/Roundtable/assets/js/49.2013781d.js"><link rel="prefetch" href="/Roundtable/assets/js/5.f0189c4a.js"><link rel="prefetch" href="/Roundtable/assets/js/50.0f540bc5.js"><link rel="prefetch" href="/Roundtable/assets/js/51.984ee8f6.js"><link rel="prefetch" href="/Roundtable/assets/js/52.3ebe0570.js"><link rel="prefetch" href="/Roundtable/assets/js/53.5b787040.js"><link rel="prefetch" href="/Roundtable/assets/js/54.1d500b04.js"><link rel="prefetch" href="/Roundtable/assets/js/55.cd8fb562.js"><link rel="prefetch" href="/Roundtable/assets/js/56.9ed2ca10.js"><link rel="prefetch" href="/Roundtable/assets/js/57.019b4018.js"><link rel="prefetch" href="/Roundtable/assets/js/58.83f30aa3.js"><link rel="prefetch" href="/Roundtable/assets/js/59.953c383a.js"><link rel="prefetch" href="/Roundtable/assets/js/6.8f8bc88b.js"><link rel="prefetch" href="/Roundtable/assets/js/60.674f791e.js"><link rel="prefetch" href="/Roundtable/assets/js/61.cfbfaacb.js"><link rel="prefetch" href="/Roundtable/assets/js/62.fc95f668.js"><link rel="prefetch" href="/Roundtable/assets/js/63.ea208038.js"><link rel="prefetch" href="/Roundtable/assets/js/64.5e134a18.js"><link rel="prefetch" href="/Roundtable/assets/js/65.9e1d4f36.js"><link rel="prefetch" href="/Roundtable/assets/js/66.f3525daf.js"><link rel="prefetch" href="/Roundtable/assets/js/67.bde24de9.js"><link rel="prefetch" href="/Roundtable/assets/js/68.6628f2ec.js"><link rel="prefetch" href="/Roundtable/assets/js/69.5d37a9a0.js"><link rel="prefetch" href="/Roundtable/assets/js/7.17464b33.js"><link rel="prefetch" href="/Roundtable/assets/js/70.8fc6ad5f.js"><link rel="prefetch" href="/Roundtable/assets/js/71.2cf28266.js"><link rel="prefetch" href="/Roundtable/assets/js/72.6685a0e9.js"><link rel="prefetch" href="/Roundtable/assets/js/73.87f81e2e.js"><link rel="prefetch" href="/Roundtable/assets/js/74.e83a7acb.js"><link rel="prefetch" href="/Roundtable/assets/js/75.06e98b0d.js"><link rel="prefetch" href="/Roundtable/assets/js/76.0afa4c8e.js"><link rel="prefetch" href="/Roundtable/assets/js/77.fb66bb2c.js"><link rel="prefetch" href="/Roundtable/assets/js/78.c7ac5773.js"><link rel="prefetch" href="/Roundtable/assets/js/79.54eedab8.js"><link rel="prefetch" href="/Roundtable/assets/js/8.ec06db61.js"><link rel="prefetch" href="/Roundtable/assets/js/80.4bd0c664.js"><link rel="prefetch" href="/Roundtable/assets/js/81.7a5d3e8c.js"><link rel="prefetch" href="/Roundtable/assets/js/82.6afcf639.js"><link rel="prefetch" href="/Roundtable/assets/js/83.974782a6.js"><link rel="prefetch" href="/Roundtable/assets/js/84.ede7853d.js"><link rel="prefetch" href="/Roundtable/assets/js/85.2795805d.js"><link rel="prefetch" href="/Roundtable/assets/js/86.a4840136.js"><link rel="prefetch" href="/Roundtable/assets/js/87.f9e5b890.js"><link rel="prefetch" href="/Roundtable/assets/js/88.0652dba1.js"><link rel="prefetch" href="/Roundtable/assets/js/89.544a3b4e.js"><link rel="prefetch" href="/Roundtable/assets/js/9.8d8fe1f7.js"><link rel="prefetch" href="/Roundtable/assets/js/90.db1243a6.js"><link rel="prefetch" href="/Roundtable/assets/js/91.254b918c.js"><link rel="prefetch" href="/Roundtable/assets/js/92.3a31f1ff.js"><link rel="prefetch" href="/Roundtable/assets/js/93.28e6e2d6.js"><link rel="prefetch" href="/Roundtable/assets/js/94.a0bf808a.js"><link rel="prefetch" href="/Roundtable/assets/js/95.29c29bb4.js"><link rel="prefetch" href="/Roundtable/assets/js/96.bd6353b2.js"><link rel="prefetch" href="/Roundtable/assets/js/97.10daec76.js"><link rel="prefetch" href="/Roundtable/assets/js/98.c067eeb9.js"><link rel="prefetch" href="/Roundtable/assets/js/99.b7267739.js"><link rel="prefetch" href="/Roundtable/assets/js/vendors~docsearch.cbbc0be1.js">
    <link rel="stylesheet" href="/Roundtable/assets/css/0.styles.473b2e6f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Roundtable/" class="home-link router-link-active"><img src="/Roundtable/logo.png" alt="Roundtable Coders" class="logo"> <span class="site-name can-hide">Roundtable Coders</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Roundtable/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Roundtable/Question-Bank/" class="nav-link">
  知识库
</a></div><div class="nav-item"><a href="/Roundtable/Lets-Read/" class="nav-link">
  共读
</a></div><div class="nav-item"><a href="/Roundtable/Wanted/" class="nav-link">
  通缉令
</a></div><div class="nav-item"><a href="/Roundtable/Quest-SC/" class="nav-link">
  源码探秘
</a></div><div class="nav-item"><a href="/Roundtable/Algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="https://esop-fed.github.io/ani-css/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ani-Css
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/Roundtable/Replay/" class="nav-link">
  项目复盘
</a></div><div class="nav-item"><a href="/Roundtable/FullStackDeveloper/" class="nav-link">
  进阶全栈
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人备忘" class="dropdown-title"><span class="title">个人备忘</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人备忘" class="mobile-dropdown-title"><span class="title">个人备忘</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Roundtable/Mark/johninch/" class="nav-link router-link-active">
  johninch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="blog" class="dropdown-title"><span class="title">blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="blog" class="mobile-dropdown-title"><span class="title">blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://johninch.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  johninch
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dannisi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Caleb
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://niannings.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  niannings
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://Xmtd.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Xmtd
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://febcat.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  febcat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="github" class="dropdown-title"><span class="title">github</span> <span class="arrow down"></span></button> <button type="button" aria-label="github" class="mobile-dropdown-title"><span class="title">github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/johninch/Roundtable" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Roundtable
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/esop-fed" target="_blank" rel="noopener noreferrer" class="nav-link external">
  esop-fed
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/johninch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  johninch
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/dannisi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Caleb
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/niannings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  niannings
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Xmtd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Xmtd
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/febcat" target="_blank" rel="noopener noreferrer" class="nav-link external">
  febcat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Roundtable/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/Roundtable/Question-Bank/" class="nav-link">
  知识库
</a></div><div class="nav-item"><a href="/Roundtable/Lets-Read/" class="nav-link">
  共读
</a></div><div class="nav-item"><a href="/Roundtable/Wanted/" class="nav-link">
  通缉令
</a></div><div class="nav-item"><a href="/Roundtable/Quest-SC/" class="nav-link">
  源码探秘
</a></div><div class="nav-item"><a href="/Roundtable/Algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="https://esop-fed.github.io/ani-css/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Ani-Css
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/Roundtable/Replay/" class="nav-link">
  项目复盘
</a></div><div class="nav-item"><a href="/Roundtable/FullStackDeveloper/" class="nav-link">
  进阶全栈
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人备忘" class="dropdown-title"><span class="title">个人备忘</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人备忘" class="mobile-dropdown-title"><span class="title">个人备忘</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Roundtable/Mark/johninch/" class="nav-link router-link-active">
  johninch
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="blog" class="dropdown-title"><span class="title">blog</span> <span class="arrow down"></span></button> <button type="button" aria-label="blog" class="mobile-dropdown-title"><span class="title">blog</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://johninch.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  johninch
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://dannisi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Caleb
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://niannings.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  niannings
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://Xmtd.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Xmtd
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://febcat.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  febcat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="github" class="dropdown-title"><span class="title">github</span> <span class="arrow down"></span></button> <button type="button" aria-label="github" class="mobile-dropdown-title"><span class="title">github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/johninch/Roundtable" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Roundtable
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/esop-fed" target="_blank" rel="noopener noreferrer" class="nav-link external">
  esop-fed
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/johninch" target="_blank" rel="noopener noreferrer" class="nav-link external">
  johninch
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/dannisi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Caleb
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/niannings" target="_blank" rel="noopener noreferrer" class="nav-link external">
  niannings
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Xmtd" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Xmtd
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/febcat" target="_blank" rel="noopener noreferrer" class="nav-link external">
  febcat
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Johninch</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Roundtable/Mark/johninch/base.html" aria-current="page" class="active sidebar-link">基础知识提纲</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Roundtable/Mark/johninch/base.html#基础知识提纲" class="sidebar-link">基础知识提纲</a></li></ul></li><li><a href="/Roundtable/Mark/johninch/promise.html" class="sidebar-link">promise 专题</a></li><li><a href="/Roundtable/Mark/johninch/coding.html" class="sidebar-link">业务小代码</a></li><li><a href="/Roundtable/Mark/johninch/leetcode.html" class="sidebar-link">leetcode部分</a></li><li><a href="/Roundtable/Mark/johninch/project.html" class="sidebar-link">项目经验</a></li><li><a href="/Roundtable/Mark/johninch/lib/react.html" class="sidebar-link">React关键</a></li><li><a href="/Roundtable/Mark/johninch/lib/vue.html" class="sidebar-link">Vue关键</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基础知识提纲"><a href="#基础知识提纲" class="header-anchor">#</a> 基础知识提纲</h2> <h3 id="面试注意点"><a href="#面试注意点" class="header-anchor">#</a> 面试注意点</h3> <ul><li><p>回答项目问题</p> <ul><li>项目背景: 简要说一下项目的背景,让面试官知道这个项目是做什么的</li> <li>个人角色: 让面试官知道你在这个项目中扮演的角色</li> <li>难点: 让面试官知道你在项目开发过程中碰到的难点</li> <li>解决方案: 针对上面的难点你有哪一些解决方案, 是如何结合业务进行取舍的</li> <li>总结沉淀: 在攻克上述的难点后有没有沉淀出一套通用的解决方案, 有没有将自己的方案在大部门进行推广等等</li></ul></li> <li><p>向面试官提问</p> <ul><li>禁忌
<ul><li>切忌问结果</li> <li>切忌问工资</li> <li>切忌问技术问题</li></ul></li> <li>有几个比较好的提问可供参考:
<ul><li>如果我入职这个岗位的话,前三个月你希望我能做到些什么?</li> <li>你对这个职位理想人选的要求是什么?你觉得我在这个要求体系下欠缺的是什么？</li> <li>请不要问一些技术无关 的问题，比如:几点下班，团队现在多少人等;这些问题可以留给 hr 来解答 。 最好是根据面试情况，问一下技术方向的话题，比如性能优化你回答的不好，问面试 官，如何提高这方面的技术，尽量表现出对技术的追求，面试官会喜欢的</li></ul></li></ul></li></ul> <h3 id="知识点列表"><a href="#知识点列表" class="header-anchor">#</a> 知识点列表</h3> <h3 id="details"><a href="#details" class="header-anchor">#</a> details</h3> <details class="custom-block details"><summary>列表带解释</summary> <ul><li>js 连等赋值问题</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> n<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> a<span class="token punctuation">;</span> <span class="token comment">// 持有a，以回查</span>
a<span class="token punctuation">.</span>x <span class="token operator">=</span> a <span class="token operator">=</span> <span class="token punctuation">{</span> n<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">alert</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// --&gt; undefined</span>
<span class="token function">alert</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// --&gt; {n:2}</span>
</code></pre></div><ul><li><p>错误监控</p> <ul><li><p>即时运行错误的捕获方式：</p> <ul><li>try..catch..</li> <li>window.onerror</li></ul></li> <li><p>资源加载错误的捕获方式：</p> <ul><li>object.onerror 比如 img.onerror</li> <li>performance.getEntries()：用 2 需要的去除 1 中已经加载到的资源就是加载失败的资源
<ol><li>performance.getEntries().forEach(item=&gt;{console.log(item.name)}) 遍历出来页面中所有加载到的资源；</li> <li>document.getElementsByTagName('img') 拿到所有需要的某种需要的资源</li></ol></li></ul></li> <li><p>Error 事件捕获
window.addEventListener('error', function(e) {
console.log('捕获', e)
}, true)
true 代表事件捕获，如果是 false，也就是事件冒泡，只报错但获取不到该错误</p></li> <li><p>延伸：跨域的 js 运行错误可以捕获吗，错误提示是什么，应该怎么处理?
可以捕获，但是只能知道 script error，但无法拿到行号列号，处理方法是：
在客户端 script 标签增加 crossorigin 属性；
在服务端设置 js 资源响应头 Access-Control-Allow-Origin: *
就可以拿到具体的跨域的 js 运行错误了。</p></li></ul></li> <li><p>精度丢失问题：0.1+0.2 !== 0.3</p> <ul><li>数据均以 2 进制存储，js 使用 64 位双进度浮点数编码，1+11+52，由于尾数位只能存储 52 个数字，这就能解释 toString(2)的执行结果了:由于限制，有效数字第 53 位及以后的数字是不能存储的，它遵循，如果是 1 就向前一位进 1，如果是 0 就舍弃的原则。</li> <li>0.1 的二进制科学计数法第 53 位是 1，0.2 有着同样的问题，其实正是由于这样的存储，在这里有了精度丢失，导致了 0.1+0.2!=0.3。</li></ul></li> <li><p>前端性能优化方向（缓存、发送请求、页面解析、静态资源加载、运行时(可包括框架性能优化)）</p> <ul><li><p><strong>（一）缓存</strong></p> <ul><li><ol><li>有些资源和数据可以本地存储，不需要发请求（localStorage、sessionStorage、indexedDB）</li></ol></li> <li><ol start="2"><li>内存缓存（Memory）</li></ol> <ul><li>请求页面及其子资源时，会先检查内存中是否已经有对应资源，这部分是浏览器自己完成的，对我们而言是无感的</li></ul></li> <li><ol start="3"><li>使用 Service Worker 和 Cache API</li></ol> <ul><li>Cache API 提供的缓存可以认为是“持久性”的，关闭浏览器或离开页面之后，下次再访问仍然可以使用。通过 Service Worker 的生命周期控制。</li></ul></li> <li><ol start="4"><li>HTTP 缓存</li></ol> <ul><li>强缓存
<ul><li>如果响应头部有 Etag 字段，那么浏览器就会将本次缓存写入硬盘中（from disk cache）</li> <li>如果服务器上设置 Etag 未开启，则放到内存中（from memory cache）</li></ul></li> <li>协商缓存</li></ul></li></ul></li> <li><p><strong>（二）发送请求</strong></p> <ul><li><ol><li>避免多余重定向</li></ol></li> <li><ol start="2"><li>DNS 预解析</li></ol> <ul><li>DNS 解析是一个递归与迭代的过程
<ul><li>hosts 文件中是否有映射</li> <li>查找本地 DNS 缓存</li> <li>向 本地 DNS 服务器 递归查询</li> <li>本地 DNS 服务器 迭代向根域名服务器、顶级域名服务器、二级域名服务器、主机域名服务器查询，直到找到该域名。</li></ul></li> <li>开启预解析：<code>&lt;link rel=&quot;dns-prefetch&quot; href=&quot;//yourwebsite.com&quot;&gt;</code></li></ul></li> <li><ol start="3"><li>DNS 优化：域名发散与域名收敛</li></ol> <ul><li>域名发散是 pc 端为了利用浏览器的多线程并行下载能力</li> <li>域名收敛多用于移动端，m 端网速慢 dns 太耗时，收敛提高性能</li></ul></li> <li><ol start="4"><li>预先建立连接</li></ol> <ul><li><code>&lt;link rel=&quot;preconnect&quot; href=&quot;//sample.com&quot; crossorigin&gt;</code> 告诉浏览器，视情况来预先建立 tcp/ip 链接，crossorigin 是可选的设置 CORS</li></ul></li> <li><ol start="5"><li>使用 CDN</li></ol></li></ul></li> <li><p>（三）服务端响应</p> <ul><li><ol><li>使用流进行响应</li></ol></li> <li><ol start="2"><li>业务聚合 BFF，减少请求数和请求时间</li></ol></li> <li><ol start="3"><li>负载均衡（只针对高并发量网站）</li></ol> <ul><li>Node.js 处理 IO 密集型请求</li> <li>pm2 实现 Node.js“多线程”，pm2 是对进程实现负载均衡</li> <li>nginx 搭建反向代理，反向代理是对服务器实现负载均衡，通过轮询机制，将用户的请求分配到压力较小的服务器上
<ul><li>nginx 中，模块被分为三大类：handler、filter 和 upstream。而其中的 upstream 模块，负责完成网络数据的接收、处理和转发，也是我们需要在反向代理中用到的模块。</li></ul></li></ul></li></ul></li> <li><p><strong>（四）页面解析与处理</strong></p> <ul><li><ol><li>资源引用位置</li></ol> <ul><li>因为 JS 会阻塞 DOM 构建，而 CSSOM 的构建又会阻塞 JS 的执行。</li> <li>CSS 样式表放在 <code>&lt;head&gt;</code> 之中（即页面的头部），把 JS 脚本放在 <code>&lt;body&gt;</code> 的最后（即页面的尾部）</li></ul></li> <li><ol start="2"><li>使用 defer 和 async</li></ol> <ul><li>在一些与主业务无关的非核心 JS 脚本上使用 async 和 defer 属性</li></ul></li> <li>白屏体验优化
<ul><li>白屏时间 = firstPaint - performance.timing.navigationStart</li> <li>白屏时间内发生了什么:
回车按下,浏览器解析网址,进行 DNS 查询,查询返回 IP,通过 IP 发出 HTTP(S) 请求
服务器返回 HTML,浏览器开始解析 HTML,此时触发请求 js 和 css 资源
js 被加载,开始执行 js,调用各种函数创建 DOM 并渲染到根节点,直到第一个可见元素产生</li> <li>白屏体验优化
<ol><li>白屏 loading 提示（在 js 执行期间插入 loading 图）</li></ol> <div class="language- extra-class"><pre class="language-text"><code>plugins: [
    new HtmlWebpackPlugin({
        template: './src/index.html',
        loading: loading
    })
]
</code></pre></div><ol start="2"><li>SSR 同构，服务端直出 html</li> <li>首次有意义绘制 FMP
<ul><li>在不同框架上都有相应的 Skeleton 骨架屏实现
<ul><li>React: antd 内置的骨架图 Skeleton 方案</li> <li>Vue: vue-skeleton-webpack-plugin</li></ul></li></ul></li></ol></li></ul></li></ul></li> <li><p><strong>（五）页面静态资源</strong></p> <ul><li>预加载
<ul><li>通过设置 link 属性来控制预加载
<ul><li>DNS Prefetch</li> <li>Preconnect</li> <li>prefetch</li> <li>prerender</li> <li>preload</li> <li>在 webpack 中使用魔法注释指定
<ul><li>/_ webpackPrefetch: true _/</li> <li>/_ webpackPreload: true _/</li></ul></li></ul></li> <li>通过 js 来控制预加载
<ul><li>可以使用 PreloadJS 这个库，提供脚本、样式、图片、字体、SVG 等各类资源的预加载器</li></ul></li></ul></li> <li>代码拆分（code split）与按需加载</li> <li>提取公共代码：splitChunks 或者 CommonChunkPlugin</li> <li>Tree Shaking
<ul><li>只支持 ESM，因为本质是利用静态分析</li></ul> <ol><li>先标记：标记功能需要配置 optimization.usedExports = true 开启</li> <li>再 shaking：使用 terser 插件进行 dead 代码摘除</li></ol></li> <li>只加载真正所需的 polyfill，减小代码体积。
<ul><li>useBuiltIns: entry/usage/false</li></ul></li> <li>打包压缩代码资源
<ul><li>js 压缩：UglifyJsPlugin</li> <li>html 压缩：HtmlWebpackPlugin，配置 minify 选项</li> <li>提取 css 并压缩：MiniCssExtractPlugin</li> <li>开启 Gzip 压缩：配置 nginx 反向代理
<ul><li>！！！不要对图片文件进行 Gzip 压缩，因为会占用后台大量资源，且压缩效果并不理想，「弊大于利」，所以一定要在 gzip_types 配置中把图片的相关项去掉。</li></ul></li></ul></li> <li>图片资源优化
<ul><li>不要在 HTML 里缩放图像：比如不要在 200✖200 的图片容器内使用 400✖400 的图片，用户并不会感到缩放后的大图更清晰，但严重增加了图片传输时间和带宽浪费。</li> <li>图片懒加载
<ul><li>js 懒加载图片，监听滚动判断是否进入视口；（还可以使用更先进的 Intersection Observer API）</li> <li>css 懒加载图片，通过切换 className 的方式<div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.login</span> <span class="token punctuation">{</span>
	<span class="token property">background-url</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>/static/img/login.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li>使用雪碧图</li> <li>使用字体图标</li> <li>使用合适的图片
<ul><li>使用 WebP：一种旨在加快图片加载速度的图片格式，压缩体积大约只有 JPEG 的 2/3</li> <li>HTML5 在 <code>&lt;img&gt;</code> 元素上为我们提供了 srcset 和 sizes 属性，可以让浏览器根据屏幕信息选择需要展示的图片。
<ul><li><code>&lt;img srcset=&quot;small.jpg 480w, large.jpg 1080w&quot; sizes=&quot;50w&quot; src=&quot;large.jpg&quot; &gt;</code></li></ul></li></ul></li></ul></li> <li>平滑加载字体资源
<ul><li>在字体加载的期间，浏览器页面是默认不展示文本内容的。即我们常说的 FOIT (Flash of Invisible Text)。在现代浏览器中，FOIT 持续至多 3 秒。</li> <li>通过加载策略来降低甚至消除 FOIT
<ul><li>使用 font-display: swap，在加载期间使用默认字体显示</li> <li>将字体文件转为 base64 的字符串，避免异步加载时的问题</li></ul></li></ul></li> <li>使用 CDN</li></ul></li> <li><p><strong>（六）运行时</strong></p> <ul><li><ol><li>注意强制同步布局</li></ol> <ul><li>什么是强制同步布局？
<ul><li>即某些 JS 操作会导致浏览器需要提前执行布局操作</li></ul></li> <li>使用 rAF 避免强制同步布局
<ul><li>将布局查询的操作放在 requestAnimationFrame 中</li></ul></li> <li>批量化元素的布局查询操作，等到下一次 requestAnimationFrame 触发时一起执行</li></ul></li> <li><ol start="2"><li>长列表优化</li></ol> <ul><li>实现 Virtual List，只渲染可见区域附近的列表元素。（只有视口内和临近视口的上下区域内的元素会被渲染）</li> <li>原生的 Virtual Scroller，<code>&lt;virtual-scroller&gt;</code> 是内置（built-in）模块提供的，还不建议在生成环境使用</li></ul></li> <li><ol start="3"><li>避免 JavaScript 运行时间过长（线程互斥导致“掉帧”）</li></ol> <ul><li><p>使用 rAF 进行任务分解，时间分片</p></li> <li><p>使用 requestIdleCallback 空闲时执行注册回调。防止饿死可以指定第二个参数来设定超时时间。</p></li> <li><p>并行计算，考虑将 CPU 密集型计算场景与主线程并行。在浏览器中启用并行线程可以使用 Web Worker，并行（concurrency）地执行 JS。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// index.js</span>
<span class="token keyword">const</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">&quot;worker.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

worker<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
	<span class="token string">&quot;message&quot;</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">result is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>e<span class="token punctuation">.</span>data<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

worker<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token string">&quot;start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language- extra-class"><pre><code>    // worker.js
    self.addEventListener('message', function (e) {
        if (e.data === 'start') {
            // 一些密集的计算……
            self.postMessage(result);
        }
    }, false);
    ```
- 页面渲染性能，着重减少重排的发生率：
    - 因为，重排是由CPU处理的，而重绘是由GPU处理的，CPU的处理效率远不及GPU，并且重排一定会引发重绘，而重绘不一定会引发重排。
    - CSS属性读写分离：先读后写，避免出现两者交叉使用，最佳实践是不用JS去操作元素样式
    - 通过切换class或者style.csstext属性去批量操作元素样式
    - DOM元素离线更新：
        - 对DOM进行相关操作时（innerHTML、appendChild），都可以使用DocumentFragment对象进行离线操作，等元素“组装”完成后再一次插入页面
        - 或者使用display:none 对元素隐藏，在元素“消失”后进行相关操作
    - 图片在渲染前指定大小：因为img元素是内联元素，所以在加载图片后会改变宽高，严重的情况会导致整个页面重排，所以最好在渲染前就指定其大小，或者让其脱离文档流。
    - 善用 Composite，开启GPU硬件加速（单独触发DOM渲染层）：
        - GPU会对所有的渲染层作缓存，把那些一直发生大量重排重绘的元素提取出来，单独触发一个渲染层，那样这个元素不就不会“连累”其他元素一块重绘
        - 给元素设置 3D transform，提升到单独的合成层（比如transform: translateZ(0)）
        - 合成层在性能优化上的*优点*在于：
            - 合成层的位图，会交由 GPU 合成，比 CPU 处理要快；
            - 当需要 repaint 时，只需要 repaint 本身，不会影响到其他的层；
            - 对于 transform 和 opacity 效果，不会触发 layout 和 paint。
        - 但同时，也要注意避免*层爆炸*，防止在无法进行层压缩的情况下出现过多的层，反而导致性能的下降
- 滚动事件的性能优化
    - 防抖
    - 节流
    - Passive event listeners使滚动更顺畅（无等待立即滚动）
        - 原理：当你添加触摸、滚轮的事件监听后，每次触发该事件，浏览器都会先花费时间执行完你的回调，然后根据结果判断是否需要滚动页面。如果的操作花费了 200ms，那页面只能在 200ms 后再滚动或缩放，这就导致了性能问题。
            ```js
            document.addEventListener('touchstart', function (e) {
                // 做了一些操作……
                e.preventDefault();
            }, true);


            document.addEventListener('touchstart', function (e) {
                // 做了一些操作……
            }, {passive: true});
            ```
        - 比如我不会阻止默认事件，通过传入`{passive: true}`先告诉浏览器不用等（你放心，我没有阻止默认行为，你不用在这儿等了可以先“滚”了），直接滚动页面就行
        - 注意：addEventListener第三个参数中传入 {passive: true}有兼容性问题，因为对于低版本浏览器来说，第三个参数是用来设置是否进行事件捕获的，所以需要特性检测。
    - 使用 pointer-events: none 禁止鼠标事件
        - 在用户开始滚动页面的时候, 给body添加 .disable-hover。这个操作可以让鼠标经过元素的时候**禁用hover效果**。
        ```css
        .disable-hover {
            pointer-events: none;
        }
        ```
        ```js
        var body = document.body,
            timer;

        window.addEventListener('scroll', function() {
            clearTimeout(timer);
            if(!body.classList.contains('disable-hover')) {
                body.classList.add('disable-hover')
            }

            // 在用户停止滚动操作的时候移除这个class
            timer = setTimeout(function(){
                body.classList.remove('disable-hover')
            },500);
        }, false);
        ```
        - 当前, 给body添加pointer-events属性能够满足绝大多数场景下工作正常, 但是如果子元素设置了pointer-eventes: auto, 这会覆盖父元素的属性, 然后导致滚动的时候页面闪动.
        ```css
        .disable-hover,
        .disable-hover * {
            pointer-events: none !important;
        }
        ```
        - 一个简单的解决方案是使用星号选择器, 并且添加 !important 属性. 从而保证子元素的pointer-events属性是设置成’none’的.
        - 不过，张鑫旭有一篇专门的文章，用来探讨 pointer-events: none 是否真的能够加速滚动性能，并提出了自己的质疑。
</code></pre></div></li></ul></li></ul></li></ul></li></ul> <p><a href="https://alienzhou.github.io/fe-performance-journey/#%E5%89%8D%E7%AB%AF%E9%9C%80%E8%A6%81%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%88%EF%BC%9F" target="_blank" rel="noopener noreferrer">前端性能优化之旅<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.im/post/5b6fa8c86fb9a0099910ac91#heading-15" target="_blank" rel="noopener noreferrer">网站性能优化实战——从 12.67s 到 1.06s 的故事<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="http://www.html-js.com/article/1598" target="_blank" rel="noopener noreferrer">[译]使用 pointer-events:none 实现 60fps 滚动 (2014.1.4 更新)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://www.zhangxinxu.com/wordpress/2014/01/pointer-events-none-avoiding-unnecessary-paints/" target="_blank" rel="noopener noreferrer">pointer-events:none 提高页面滚动时候的绘制性能？<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>正向代理：<strong>正向代理隐藏了真实的请求客户端</strong>，服务端不知道真实的客户端是谁，客户端请求的服务都被代理服务器代替来请求。
<ul><li>某些科学上网工具扮演的就是典型的正向代理角色。用浏览器访问 www.google.com 时，被残忍的 block，于是你可以在国外搭建一台代理服务器，让代理帮我去请求 google.com，代理把请求返回的相应结果再返回给我。</li></ul></li> <li>反向代理：<strong>反向代理隐藏了真实的服务端</strong>，反向代理服务器会帮我们把请求转发到真实的服务器那里去。Nginx 就是性能非常好的反向代理服务器，用来做负载均衡。
<ul><li>当我们请求 www.baidu.com 的时候，背后可能有成千上万台服务器为我们服务，www.baidu.com 就是我们的反向代理服务器</li></ul></li></ul> <ul><li><p>前端鉴权</p> <ul><li><p>session-cookie</p> <ul><li>利用服务器端的 session（会话）和浏览器端的 cookie 来实现前后端的认证，由于 http 请求是无状态的，服务器正常情况下是不知道当前请求之前有没有来过，这个时候我们如果要记录状态，就需要在服务器端创建一个会话(session)，将同一个客户端的请求都维护在各自的会话中，每当请求到达服务器端的时候，先去查一下该客户端有没有在服务器端创建 session，如果有则已经认证成功了，否则就没有认证。</li> <li>认证过程：
<ul><li><ol><li>服务器在接受客户端首次访问时在服务器端创建 session 会话，并保存该 session 到<code>内存中</code>，或保存在<code>redis中</code>（推荐后者），然后给这个 session 生成一个唯一的 sessionId，并在响应头中 setCookie 种下这个 sessionId。</li></ol></li> <li><ol start="2"><li>浏览器从响应中解析响应头，然后将 sessionId 保存在本地 cookie 中，浏览器在下次 http 请求的请求头中会带上该域名下的 cookie 信息。</li></ol></li> <li><ol start="3"><li>服务器在接受客户端请求时会去解析请求头 cookie 中的 sessionId，并根据此 sessionId 在服务器端查找保存的该客户端的对应 session 会话，判断该请求是否合法。</li></ol></li></ul></li> <li>缺点：
<ul><li>服务器内存消耗大: 用户每做一次应用认证，应用就会在服务端做一次记录，以方便用户下次请求时使用，通常来讲 session 保存在内存中，随着认证用户的增加，服务器的消耗就会很大。</li> <li>易受到 CSRF 攻击: 基于 cookie 的一种跨站伪造攻击，基于 cookie 来进行识别用户的话，用户本身就携带了值，cookie 被截获，用户就很容易被伪造。</li></ul></li> <li>注意：
<ul><li>对于跨域，前端我们设置 axios 的 withCredentials = true 来设置 axios 可以发送 cookie，后端我们需要设置响应头 Access-Control-Allow-Credentials:true，并且同时设置 Access-Control-Allow-Origin 为前端页面的服务器地址，而不能是*。</li></ul></li></ul></li> <li><p>Token 验证</p> <ul><li><p>当用户第一次登录后，服务器生成一个 token 并将此 token 返回给客户端，以后客户端只需带上这个 token 前来请求数据即可，无需再次带上用户名和密码。</p></li> <li><p>Token 验证可以是无状态的，也可以是有状态的</p> <ul><li>有状态 Token（服务端持久化，存入数据库，考虑有效期有两种方案）：
<ul><li><ol><li>在服务器端保存 Token 状态，用户每次操作都会自动刷新（推迟）Token 的过期时间——Session 就是采用这种策略来保持用户登录状态的</li></ol></li> <li><ol start="2"><li>使用 Refresh Token，它可以避免频繁的读写操作。即登录后下发到客户端[token,refreshToken]两个一组，二者是相关联的。当 token 发到服务端过期时并返回过期状态时，前端会把 refreshToken 发到后端，后端对其进行验证并生成新的 token'替换掉原来的 token，前端拿到这个 token'之后就可以重新发送业务请求了。。。refreshToken 的有效期可以设置的长一些，当 refreshToken 也过期的时候，就真的应该让用户重新登录一次了</li></ol></li></ul></li> <li>无状态 Token
<ul><li>（如果把所有状态信息都附加在 Token 上，服务器就可以不保存，服务端只需要认证 Token 有效就行了。。。只要服务端能确认是自己签发的 Token，而且其信息未被改动过，就证明是有效 token。。使用对称加密算法来验证“签名”，一般是 HS256）</li> <li>本质是：用 解析 token 的计算时间换取 创建会话 session 的存储空间，从而减轻服务器的压力，减少频繁的查询数据库</li> <li>认证过程：
<ul><li><ol><li>客户端使用用户名跟密码请求登录</li></ol></li> <li><ol start="2"><li>服务端收到请求，去验证用户名与密码</li></ol></li> <li><ol start="3"><li>验证成功后，服务端会<code>签发一个 Token</code>，再把这个 Token 发送给客户端</li></ol></li> <li><ol start="4"><li>客户端收到 Token 以后可以把它存储起来，比如放在 <code>Cookie 里</code>或者 <code>LocalStorage 里</code></li></ol></li> <li>前端每次路由跳转，判断 localStroage 有无 token ，没有则跳转到登录页，有则请求获取用户信息，改变登录状态；</li> <li><ol start="5"><li>客户端每次向服务端请求资源的时候需要带着服务端签发的 Token</li></ol></li> <li><ol start="6"><li>服务端收到请求，然后去验证客户端请求里面带着的 Token</li></ol> <ul><li>如果验证成功，就向客户端返回请求的数据</li> <li>如果验证不合法，就返回 401（鉴权失败）</li></ul></li></ul></li> <li>JWT，（JSON Web Token）一种跨域认证授权解决方案，无状态 token 解决方案
<ul><li>是一个很长的字符串，中间用点（.）分隔成三个部分：Header（头部）.Payload（载荷）.Signature（签名）</li> <li>token = base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload) + signature
<ul><li>Header 头部：描述 JWT 元数据的 JSON 对象</li> <li>Payload 载荷：存放实际传递信息的 JSON 对象，需要用 Base64URL 转成字符串</li> <li>Signature 签名：（使用默认签名算法 HS256 生成，传入密钥 secret， Base64URL 相比于 Base64 算法，多了对 URL 里面特殊含义字符的处理，因为 JWT 作为一个令牌 token，可以放在 URL 中传输）
<ul><li>signature = HMACSHA256(base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload), secret)</li></ul></li></ul></li> <li>使用方式：
<ul><li>方式 1：<code>Authorization: Bearer &lt;token&gt;</code></li> <li>方式 2：跨域的时候，可以把 JWT 放在 POST 请求的数据体里</li> <li>方式 3：通过 URL 传输</li></ul></li> <li>最大缺点！
<ul><li>JWT 的最大缺点是，由于服务器不保存会话，因此，JWT 一旦签发，在到期之前就会始终有效，因此无法在使用过程中废止某个 token，或者更改 token 的权限，除非服务器部署额外的逻辑。</li> <li>如果用户修改(比如重置密码)或注销了 token，那他之前未到期的 token 怎么废弃掉呢？
<ul><li>比较常用的方式是「维护一个 token 黑名单，失效则加入黑名单中」，从而使后端能够主动让 JWT 失效</li></ul></li></ul></li></ul></li></ul></li></ul></li> <li><p>有状态 Token 与 JWT 的区别</p> <ul><li>有状态 Token：token 是随机生成的 UUID，存在 Redis 内存中，服务端验证客户端发送过来的 Token 时，需要去 redis 内存中查找匹配获取用户信息，验证 Token 是否有效。</li> <li>JWT：将 Token 和 Payload 加密后存储于客户端，服务端只需要解密进行校验即可，不需要查询或者减少查询数据库，因为 JWT 自包含了用户信息和加密的数据。</li></ul></li> <li><p>前端存储和发送 Token 的两种方式：</p> <ul><li>1 使用 Header.Authorization + localStorage 存储和发送 token
<ul><li>这种方法可以避免 CSRF 攻击，因为没有使用 cookie，而 CSRF 就是基于 cookie 来攻击的。</li> <li>但是这种方法容易被 XSS 攻击，因为 XSS 可以攻击 localStorage ，从中读取到 token，如果 token 中的 head 和 payload 部分没有加密，那么攻击者只要将 head 和 payload 的 base64 形式解码出来就可以看到 head 和 payload 的明文了。当然可以加密 payload 保护敏感信息。</li></ul></li> <li>2 使用 cookie 存储和发送 token：
<ul><li>这种方法避免 CSRF，需要使用 httpOnly 来使客户端脚本无法访问到 cookie，才能保证 token 安全。</li></ul></li></ul></li> <li><p>Token 优点与缺点</p> <ul><li>优点：
<ul><li>Cookie 是不允许垮域访问的，而 token 可避开同源策略</li> <li>因为不需要 cookie 了，所以 token 可以避免 CSRF 攻击</li> <li>解决 session 扩展性问题，Token 可以是无状态的，可以在多个服务间共享
<ul><li>token 不需要在服务端去保留用户的认证信息或者会话信息，服务器端只需要根据定义的规则校验这个 token 是否合法就行，这就意味着基于 token 认证机制的应用不需要去考虑用户在哪一台服务器登录了</li></ul></li></ul></li> <li>缺点：
<ul><li>Token 相比于 session-cookie 来说就是一个<code>时间换空间</code>的方案。token 需要服务端花费更多的时间和性能来对 token 进行解密验证。</li></ul></li></ul></li> <li><p>💯其实有状态 token 和 sessionId 这种方式其实是差不多的，都是针对每个用户 UUID 生成唯一的字符串来匹配，都需要在服务端来存储。而无论前端是用 cookie 传，还是用 header.Authorization 传，对于后端来说也是差不多的。</p> <ul><li>但 sessionId 有一个致命问题在于，只会在登录认证的应用服务器上创建对应的 session 会话，而如果有多台服务器，比如做了负载均衡或轮询，则用户登到其他服务器就不行了，因为其他服务器上没有对应的 session 会话，就需要重新创建一个。</li> <li>而有状态 token 使用 redis 集群来存储已经签发的 token 列表，使用 redis 集群来存而不在「内存」或「应用服务器」中存的原因是：
<ul><li>redis 集群相对于「应用服务器」来说，相当于单独的服务器，不会占用应用服务器资源，且方便扩容。</li> <li>redis 集群相对于「内存」来说，相当于一个单独的共享空间，对于多个应用服务器可以共享。</li></ul></li></ul></li> <li><p>单点登录 SSO</p></li> <li><p>第三方登录 OAuth2.0</p></li></ul></li></ul></li></ul> <p><a href="https://juejin.im/post/5c6e6063f265da2da53ec8f3#heading-0" target="_blank" rel="noopener noreferrer">前端面试查漏补缺--(十) 前端鉴权<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.im/post/5cddae69f265da036207d036#heading-5" target="_blank" rel="noopener noreferrer">JWT、OAuth 2.0、session 用户授权实战<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.im/post/5e055d9ef265da33997a42cc" target="_blank" rel="noopener noreferrer">傻傻分不清之 Cookie、Session、Token、JWT<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.im/post/5a6c60166fb9a01caf37a5e5#heading-6" target="_blank" rel="noopener noreferrer">Token 认证的来龙去脉<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <a href="https://juejin.im/post/5ce272c1e51d45109b01b0f8" target="_blank" rel="noopener noreferrer">跨域认证解决方案-JSON WEB TOKEN 讲解与实战<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>前端安全</p> <ul><li><p>XSS</p> <ul><li><p>分类 - XSS 攻击可分为存储型、反射型和 DOM 型 三种</p> <ul><li>存储型、反射型 都属于服务端安全漏洞
<ul><li><code>存储型</code>：攻击者将恶意代码提交到目标网站的<code>数据库中</code>。用户打开目标网站时，网站服务端将恶意代码从数据库取出，拼接在 HTML 中返回给浏览器。前端执行了恶意代码。</li> <li>反射型：跟存储型 XSS 的区别是：<strong>存储型 XSS</strong> 的恶意代码<code>存在数据库里</code>，<strong>反射型 XSS</strong> 的恶意代码<code>存在 URL 里</code>。用户打开带有恶意代码的 URL 时，网站服务端将恶意代码从 URL 中取出，拼接在 HTML 中返回给浏览器。</li></ul></li> <li>DOM 型 则完全是前端 JS 安全漏洞
<ul><li>把不可信的数据当作代码执行了</li></ul></li></ul></li> <li><p>防范</p> <ul><li><p>防止攻击者提交：输入过滤</p> <ul><li>但可能会产生乱码</li></ul></li> <li><p>防止恶意代码被执行：</p> <ul><li><p>对于服务端的两种：</p> <ul><li>改成纯前端渲染
<ul><li>代码和数据分开，但对于需要 SSR 的场景是不可行的</li></ul></li> <li>对 HTML 做充分转义
<ul><li>对于 HTML 转义通常只有一个规则，就是把 &amp; &lt; &gt; &quot; ' / 这几个字符转义掉</li></ul></li></ul></li> <li><p>对于前端的 DOM 型：</p> <ul><li><p>实际上就是网站前端 JavaScript 代码本身不够严谨，把不可信的数据当作代码执行了。
在使用 .innerHTML、.outerHTML、document.write() 时要特别小心，不要把不可信的数据作为 HTML 插到页面上，而应尽量使用 .textContent、.setAttribute() 等。</p> <p>如果用 Vue/React 技术栈，并且不使用 v-html/dangerouslySetInnerHTML 功能，就在前端 render 阶段避免 innerHTML、outerHTML 的 XSS 隐患。</p> <p>DOM 中的内联事件监听器，如 location、onclick、onerror、onload、onmouseover 等，&lt; a&gt; 标签的 href 属性，JavaScript 的 eval()、setTimeout()、setInterval() 等，都能把字符串作为代码运行。</p></li></ul></li></ul></li></ul></li></ul></li> <li><p>中间人劫持，怎么防止。x-frame-option?白屏的喔，怎么办？也不一定嵌入 iframe 啊，可以嵌入脚本、图片，怎么阻止【描述】</p> <ul><li>https 也不是绝对安全的，中间人劫持攻击，中间人可以获取到客户端与服务器之间所有的通信内容。
中间人截取客户端发送给服务器的请求，然后伪装成客户端与服务器进行通信；将服务器返回给客户端的内容发送给客户端，伪装成服务器与客户端进行通信。
通过这样的手段，便可以获取客户端和服务器之间通信的所有内容。</li> <li>使用中间人攻击手段，必须要让客户端信任中间人的证书，如果客户端不信任，则这种攻击手段也无法发挥作用。</li> <li>造成中间人劫持的原因是 没有对服务端证书及域名做校验或者校验不完整，</li></ul></li> <li><p><a href="https://juejin.im/post/5c6d142151882503b3271f4b" target="_blank" rel="noopener noreferrer">前端面试查漏补缺--(七) XSS 攻击与 CSRF 攻击<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p><a href="https://www.cxymsg.com/guide/security.html#%E6%9C%89%E5%93%AA%E4%BA%9B%E5%8F%AF%E8%83%BD%E5%BC%95%E8%B5%B7%E5%89%8D%E7%AB%AF%E5%AE%89%E5%85%A8%E7%9A%84%E7%9A%84%E9%97%AE%E9%A2%98" target="_blank" rel="noopener noreferrer">前端安全面试题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></li></ul> <ul><li><p>网络基础</p> <ul><li><p>http 报文组成</p> <ul><li>请求行（方法，url，协议版本）、请求头（常用的...）、空行、请求体</li> <li>响应行（协议版本，状态码）、响应头、空行、响应体</li></ul></li> <li><p>http 方法</p> <ul><li>无连接，无状态</li> <li>get 与 post 区别（6 点）
<ul><li>回退时 get 不会重发请求，post 需要重发</li> <li>get 请求默认会被浏览器缓存，post 不会</li> <li>get 参数会完整保留在历史记录中，post 不会</li> <li>get 传参在 url 中，post 在 request body 中</li> <li>get 参数限制在 2kb，post 无限制</li> <li>get 发一个 tcp 包，post 发两个 tcp 包，先发 headers 响应 100 continue，再发 data 响应 200</li></ul></li> <li>状态码
<ul><li>1xx 指示信息</li> <li>2xx
<ul><li>200 成功</li> <li>201 Created：请求成功，而且有一个新的资源已经依据请求的需要而建立，通常这是 PUT 方法得到的响应码</li> <li>204 No content：表示请求成功，但响应报文不含实体的主体部分</li> <li>206 Partial Content：客户端发送带 Range 头的 Get 请求，服务器会按照 Range 截取对应数据返回，通常用于 video 标签或 audio 标签请求一个大的视音频文件时，返回 range 部分</li></ul></li> <li>3xx
<ul><li>301 Moved Permanently：永久重定向</li> <li>302 Found：临时性重定向
<ul><li>ajax302 重定向跨域问题</li> <li>303 和 307 是 HTTP1.1 新加的，它们是对 HTTP1.0 中的 302 状态码的细化
<ul><li>303，POST 重定向为 GET</li> <li>307，不会把 POST 转为 GET</li></ul></li></ul></li> <li>304 Not Modified：协商缓存</li></ul></li> <li>4xx
<ul><li>400 Bad Request：客户端请求有语法错误</li> <li>401 unauthorized：缺少身份认证信息
<ul><li>一般是忘加 Authorization 这个请求 Header</li></ul></li> <li>403 Forbidden：对被请求页面的访问被禁止
<ul><li>一般是服务端收到并验证了，该用户没有权限访问</li> <li>在跨域时，也会出现
<ul><li>注意，如果使用了 CORS，非简单请求会先发 OPTIONS 请求，即使跨域也会返回 200，所以就不会出现 403 了</li></ul></li></ul></li> <li>404 Not Found：请求资源不存在</li></ul></li> <li>5xx
<ul><li>500 Internal Server Error：服务器错误</li> <li>503 Server Unavailable：服务器不可用，临时过载宕机</li></ul></li></ul></li> <li>常用端口
<ul><li>http 80 、 https 443 、 DNS 53</li></ul></li> <li>http 工作模式：
<ul><li>普通模式（http1.0 中，默认使用的是短连接）：每个请求/应答，客户端和服务器都要新建一个连接，完成之后立即断开（HTTP 协议为无连接的协议）。</li> <li>持久连接（http1.1 支持，且 1.1 默认使用长连接）：
<ul><li>Keep-alive 模式 又称持久连接或连接重用，指定方式为 Connection: keep-alive</li> <li>keep-alive 功能使客户端到服务器端的连接持续有效，当出现对服务器的后继请求时，keep-alive 功能避免了重新建立连接。
<ul><li>从 tcp/ip 层面来看，长连接需要发送心跳包维持连接，短连接的 tcp 连接会建立并断开</li> <li>管线化需要长连接才支持（1.1 才支持），只有 get 和 head 可以进行管线化，打包多次请求一次返回多个响应</li></ul></li></ul></li></ul></li> <li>http2.0 与 http1.1 的显著不同点：
<ul><li>1.1：tcp/ip 请求 1 对 1，受 tcp/ip 本身并发数限制（同一域名下并发的 tcp 连接 2-10 个不等），速度慢</li> <li>2.0：tcp/ip 请求 1 对多，分割成更小的帧请求，速度明显提升。2.0 的出现导致（譬如打包成精灵图，静态资源多域名拆分等）1.1 的优化方式都不重要了。</li></ul></li> <li>http2.0 特性
<ul><li>多路复用（即一个 tcp/ip 连接可以请求多个资源）；</li> <li>首部压缩（http 头部压缩，减少体积）；
<ul><li>压缩原理：
<ul><li>使用<code>Hpack</code>思想，消息发送端和消息接受端共同维护一份<em>静态表</em>和一份<em>动态表</em>（这两个合起来充当<strong>字典</strong>的角色），每次请求时，发送方根据字典的内容以及一些特定指定，编码压缩消息头部，接收方根据字典进行解码，并且根据指令来判断是否需要更新动态表。</li> <li>更新的动态表有利于二次压缩时进一步提升压缩率</li> <li>据此，可以在传输的过程，简化消息内容，从而降低消息的大小</li></ul></li></ul></li> <li>服务器端推送 server push（服务端可以对客户端的一个请求发出多个响应，可以主动通知客户端）；</li> <li>二进制分帧（在应用层跟传送层之间增加了一个二进制分帧层，改进传输性能，实现低延迟和高吞吐量）；</li> <li>请求优先级（如果流被赋予了优先级，它就会基于这个优先级来处理，由服务器决定需要多少资源来处理该请求）。</li></ul></li> <li>https
<ul><li>为什么安全</li> <li>采用什么加密方式
<ul><li>为什么一开始使用非对称加密，传输数据使用对称加密</li></ul></li> <li>https 通信过程</li></ul></li></ul></li> <li><p>TCP、UDP</p> <ul><li>工作原理</li> <li>区别:
<ul><li>都是传输层协议，传输控制协议、用户数据包协议</li> <li>是否建立连接</li> <li>是否可靠传输</li> <li>面向字节流与面向报文</li> <li>首部字节 20 与 首部 8 字节开销小</li> <li>一对一 与 1 对 1/1 对多/多对 1/多对多</li></ul></li> <li>基于 TCP 的应用层协议：http、ftp</li> <li>基于 UDP 的应用层协议：dns、rip</li> <li>TCP 如何保证可靠性
<ul><li>什么是建立全双工信道</li> <li>数据截断为合理长度</li> <li>对于收到的请求，给出响应</li> <li>接收方校验包出错会丢弃，且不给出响应</li> <li>发送方未收到响应，会超时重发</li> <li>对于失序数据会重新排序，再交给应用层</li> <li>重复数据会丢弃</li> <li>提供「流量控制」，基于可变大小的滑动窗口协议</li> <li>提供「拥塞控制」，通过慢启动、拥塞避免、快重传、快恢复等算法，防止网络风暴</li></ul></li> <li>什么是三次握手与四次挥手</li></ul></li> <li><p>5 层网络协议栈</p> <ul><li>从应用层的发送 http 请求，到传输层通过什么是建立 tcp/ip 连接，再到网络层的 ip 寻址，再到数据链路层的封装成帧，最后到物理层的利用物理介质传输。服务端的接收就是反过来的步骤：
<ul><li>应用层(dns,http)：DNS 解析成 IP 并发送 http 请求；
<ul><li><em>(表示层)，7 层插入</em>，web Socket 接口处于表示层。</li> <li><em>(会话层)，7 层插入</em></li></ul></li> <li>传输层(tcp,udp)：建立 tcp 连接（什么是）；</li> <li>网络层(IP,ARP)：IP 寻址；</li> <li>数据链路层(PPP)：封装成帧；</li> <li>物理层(利用物理介质传输比特流)：物理传输（然后传输的时候通过双绞线，电磁波等各种介质）。</li></ul></li> <li>完整的 OSI 七层框架，与 5 层相比，在传输层与应用层之间，多了会话层、表示层。</li></ul></li> <li><p>DNS 域名解析</p> <ul><li>流程
<ul><li>本机先找缓存</li> <li>没有时，递归向本地 dns 服务器，再由其迭代根、二级、主机域，最后递归返回</li></ul></li> <li>由于域名解析耗时，可通过 dns-prefetch 优化</li></ul></li></ul></li></ul> <ul><li><p>简述输入 URL 到页面显示全过程</p> <ul><li>DNS 解析</li> <li>建立 tcp/ip 链接</li> <li>发送 http 请求，判断是什么缓存类型</li> <li>客户端拿到资源</li> <li>开始渲染过程</li></ul></li> <li><p>浏览器渲染</p> <ul><li>浏览器渲染过程
<ul><li>dom tree</li> <li>css rule tree</li> <li>render tree</li> <li>layout</li> <li>repaint</li> <li>composite</li></ul></li> <li>reflow 与 repaint
<ul><li>触发 reflow 的情况：
<ul><li>resize</li> <li>dom 结构改变</li> <li>改变字体大小</li> <li>最复杂的一种：获取某些属性时。很多浏览器会对回流做优化，会等到数量足够时做一次批处理回流，但是，除了 render 树的直接变化，当获取一些属性时，浏览器为了获得正确的值也会触发回流，这样使得 浏览器批处理优化无效，包括：
<ul><li>offset(Top/Left/Width/Height)</li> <li>scroll(Top/Left/Width/Height)</li> <li>cilent(Top/Left/Width/Height)</li> <li>width，height</li> <li>调用了 getComputedStyle()或者 IE 的 currentStyle
<ul><li>js 如何设置获取盒模型对应的宽和高（4 种）
<ul><li>其他两种兼容性不好，也不常用</li> <li>window.getComputedStyle(dom).width</li> <li>dom.getBoundingClientRect().width 相对于 viewport 边界</li></ul></li></ul></li></ul></li></ul></li> <li>重排一定伴随着重绘，重绘却可以单独出现。</li> <li>display:none 会触发 reflow，而 visibility:hidden 只会触发 repaint，因为没有发现位置变化。</li> <li>减少重排重绘：
<ul><li>避免循环操作 dom，创建一个 documentFragment 或 div</li> <li>使用 display: none，触发两次</li> <li>将需要多次重排的元素的 position 属性设为 absolute 或 fixed</li> <li>避免多次读取 offset 等属性。无法避免则将它们缓存到变量</li> <li>不要用 table 布局</li></ul></li></ul></li></ul></li> <li><p>浏览器多进程</p> <ul><li>主进程：只有一个，负责协调、主控</li> <li>插件进程</li> <li>GPU 进程：3D 绘制，最多一个</li> <li>浏览器内核（渲染进程）
<ul><li>每个 tab 页都是一个渲染进程</li> <li>渲染进程又分为 5 大类线程
<ul><li>GUI 渲染线程</li> <li>JS 引擎线程
<ul><li>GUI 渲染线程 与 JS 引擎线程 互斥
由于 js 可以操作 DOM，如果同时修改元素属性并同时渲染界面(即 JS 线程和 GUI 线程同时运行)，会导致渲染线程前后获得的元素可能不一致。因此，为了防止渲染出现不可预期的结果，浏览器设定 GUI 渲染线程和 JS 引擎线程为互斥关系</li></ul></li> <li>事件触发线程</li> <li>定时器线程</li> <li>异步 http 请求线程</li></ul></li> <li>什么是 Event Loop（事件循环）
js 分为两种任务，一种是<em>同步任务</em>（synchronous），另一种是<em>异步任务</em>（asynchronous）。
<em>同步任务</em>都在<code>JS引擎线程</code>上执行，形成一个<code>执行栈</code>；
js 通过「任务队列」来实现异步回调，<code>事件触发线程</code>管理一个<code>任务队列</code>（task queue）；
<em>异步任务</em>触发条件达成，会由<code>定时器线程</code>或<code>异步http请求线程</code>将回调事件放到<code>任务队列</code>中；
执行栈中所有同步任务执行完毕，此时 JS 引擎线程空闲，系统会读取任务队列，将可运行的异步任务回调事件添加到执行栈中，开始执行。这个过程不断重复。</li> <li>JS 引擎线程的执行栈中，包括宏任务、微任务
<ul><li>分类：
<ul><li>宏任务，可以理解成每次执行栈中执行的代码
<ul><li>setTimeout</li> <li>setInterval</li> <li>setImmediate</li> <li>UI rendering（比如一些改变页面 css 的 js 代码任务）</li> <li>script</li> <li>I/O</li></ul></li> <li>微任务，可以理解成 当前宏任务执行过程中所产生的微小任务，并在当前宏任务执行结束时立即执行
<ul><li>Promise.then()或 catch()</li> <li>Promise 为基础开发的其它技术，比如 fetch API</li> <li>process.nextTick（Node 独有的）</li> <li>V8 的垃圾回收过程</li> <li>MutationObserver</li></ul></li></ul></li> <li>顺序（由于互斥）：
<ul><li>宏任务--&gt;(可能由当前宏任务所产生的微任务)--&gt;渲染--&gt;宏任务--&gt;(可能由当前宏任务所产生的微任务)--&gt;渲染--&gt;...</li></ul></li></ul></li></ul></li></ul></li> <li><p>浏览器工作原理</p> <ul><li>线程和进程的区别
<ul><li>进程是<code>资源分配的最小单位</code>，线程是<code>CPU调度（即程序执行）的最小单位</code>；</li> <li>一个进程可以包含多个线程，<strong>每个进程有自己的独立内存空间，不同进程间数据很难共享</strong>；</li> <li><strong>同一进程下不同线程间共享</strong>全局变量、静态变量，数据很易共享；</li> <li>进程要比线程消耗更多的计算机资源；</li> <li>进程间不会相互影响，而一个线程挂掉将导致其他线程阻塞。</li></ul></li> <li>进程间通信 6 种：
<ol><li>管道 pipe</li> <li>命名管道 namedpipe</li> <li>消息队列 MessageQueue</li> <li>信号量 Semaphore</li> <li>共享内存 SharedMemory</li> <li>套接字 Socket</li></ol></li> <li>线程间通信 3 种：
<ol><li><strong>锁机制</strong>：包括<code>互斥锁</code>、<code>条件变量</code>、<code>读写锁</code></li> <li>信号量机制</li> <li>信号机制</li></ol> <ul><li>线程死锁的原因：线程竞争与进程推进顺序不对，具体需要同时满足 4 个必要条件</li> <li>解决死锁的方法：加锁顺序、加锁时限、死锁检测</li></ul></li></ul></li> <li><p>浏览器存储</p> <ul><li>Cookie、Session、Token（Authorization） 区别</li> <li>Cookie 属性设置</li> <li>Cookie 与 WebStorage 区别</li></ul></li> <li><p>跨域问题</p> <ul><li><p>同源策略：协议、域名、端口</p></li> <li><p>常用跨域策略（8 种）</p> <ul><li><p>1、CORS（跨域资源共享）：原理是浏览器在识别 ajax 发送了跨域请求的时候，会将其拦截并在 http 头中加一个<code>origin字段</code>，允许跨域通信。</p> <ul><li><p>CORS 请求分成两类，浏览器对这两种请求的处理是不一样的：简单请求、非简单请求。</p> <ul><li><p>判断条件，需同时满足：</p> <ul><li>必须是三种方法之一：HEAD、GET、POST，</li> <li>且 header 信息不超出某几种字段
（同时满足上述两个条件，才是简单请求，比如 header 中常用的 Content-Type：application/json，还有鉴权的 Authorization，都属于非简单请求）</li></ul></li> <li><p>简单请求流程：</p> <ul><li>浏览器自动在 header 添加一个 origin 字段，表明本次请求来自哪个源（协议、域名、端口）。</li> <li>如果 origin 在指定范围内，则返回多个 Access-Control-xx 字段</li> <li>如果 origin 不在指定范围，则响应 header 中不包含 Access-Control-Allow-Origin 字段，浏览器收到后就会抛出错误</li></ul></li> <li><p>注意：默认情况下，Cookie 不包括在 CORS 请求之中。如果要传 cookie，</p> <ul><li>需要指定 Access-Control-Allow-Credentials: true，</li> <li>且 Access-Control-Allow-Origin 不能用通配符*号，必须指定具体域名，</li> <li>另外，开发者还需要在客户端对 XHR 对象中开启 withCredentials: true。</li></ul></li> <li><p>非简单请求：除那 3 种方法，或者 header 中有常用的 Content-Type：application/json，以及常用在模块鉴权的 Authorization 字段，都是非简单请求</p> <ul><li>会先发送 一个 OPTIONS 的&quot;预检&quot;请求（里面也包含 origin 字段头信息），用来询问 所在的域名是否在服务器的许可名单之中，以及运行哪些方法和头信息。</li> <li>如果 origin 在指定范围内，则返回多个 Access-Control-xx 字段
<ul><li>预检通过后之后，就可以发简单请求来完成真正的数据通信了</li></ul></li> <li>如果 origin 不在指定范围，则响应 header 中不包含 Access-Control-Allow-Origin 字段，浏览器收到后就会抛出错误</li></ul></li> <li><p>非简单请求可以控制预检请求的发送频率，通过 Access-Control-Max-Age: 600 指定预检有效期</p></li></ul></li></ul></li> <li><p>2、服务端代理</p> <ul><li>通过 nginx 反向代理或者 nodejs 代理请求，原理就是服务端是不受浏览器的同源策略限制的，因此可通过服务端先请求好资源，再从服务端拿来用。</li> <li>开发环境下可以使用 webpack 的 http-proxy-middleware 中间件，在 devServer 配置 proxy: config.dev.proxyTable 实现代理跨域。</li></ul></li> <li><p>3、JSONP</p> <ul><li>利用拥有“src”属性的标签的异步加载来实现（如<code>&lt;script&gt;,&lt;img&gt;,&lt;iframe&gt;</code>）</li> <li>允许客户端传一个 callback 参数给服务器，然后服务器返回数据时会用这个 callback 参数作为函数名，包裹住 JSON 数据，返回客户端，客户端执行返回函数</li> <li>Jsonp 只能发 get 请求</li></ul></li> <li><p>4、Hash</p> <ul><li>利用的原理是“hash 的变动不会触发页面刷新”。</li> <li>在 iframeB 页面通过监听 window.onhashchange 来拿到 A 页面传来的数据。</li></ul></li> <li><p>5、postMessage</p> <ul><li>HTML5 规范中的新方法 window.postMessage()可以用于安全跨域通信。</li></ul></li> <li><p>6、WebSocket</p> <ul><li>WebSocket 是一种服务器推送技术，支持双向通信，没有同源限制，即允许跨域。协议标识符是 ws（如果加密，则为 wss）。
var ws = new WebSocket('wss://xxx.xxxx.org')
ws.onopen = function() { ws.send() }
ws.onmessage = function() { ws.close() }
ws.onclose = function() {}</li></ul></li> <li><p>7、document.domain</p> <ul><li>适用于：主域相同子域不同的页面</li></ul></li> <li><p>8、window.name</p> <ul><li>在一个窗口的生命周期内，窗口载入的所有的页面都是共享一个 window.name 的</li></ul></li></ul></li></ul></li></ul> <ul><li><p>ES</p> <ul><li>JS = ES + Web API
<ul><li>Web API：DOM 操作，BOM 操作，事件绑定，Ajax 等。。</li></ul></li> <li>nodejs = ES + nodejs API
<ul><li>nodejs API：处理 http，处理文件等。。</li></ul></li></ul></li> <li><p>ES6</p> <ul><li>let 和 const
<ul><li>ES6 中声明变量方式 6 种</li> <li>块级作用域</li> <li>暂时性死区（没有变量提升）</li> <li>重复声明和赋值</li></ul></li> <li>普通函数和箭头函数
<ul><li>函数有变量提升吗？声明式会提升，表达式不会提升</li> <li>箭头函数就是匿名函数，声明会提升，表达式不提升</li> <li>箭头函数：
<ul><li>this 是定义时所在对象</li> <li>内部无 this，是定义时外部代码块 this，不能用作构造函数，不能 new</li> <li>无 arguments，用 rest 参数替代</li> <li>不能用 yield</li></ul></li></ul></li></ul></li> <li><p>ts</p> <ul><li>优点（得益于静态语言的优势）
<ul><li>TS 增加了代码的可读性和可维护性。
<ul><li>类型系统实际上是最好的文档，大部分的函数看看类型的定义就可以知道如何使用了；</li> <li>可以在编译阶段就发现大部分错误，这总比在运行时候出错好；</li> <li>增强了编辑器和 IDE 的功能，包括代码补全、接口提示、跳转到定义、重构等；</li></ul></li> <li>TS 具有包容性。
<ul><li>TypeScript 是 JavaScript 的超集，.js 文件可以直接重命名为 .ts 即可；</li> <li>即使不显式的定义类型，也能够自动做出类型推论；</li> <li>编译报错也还是会生成 js 文件；</li></ul></li></ul></li> <li>type 和 interface 区别
<ul><li>interface 只能定义对象类型；type 声明的方式可以定义原始类型、组合类型</li> <li>interface 可以实现接口的 extends/implements，而 type 不行</li> <li>interface 可以实现接口的 merge，但是 type 不行</li> <li>其实 type 只是一个类型别名，<strong>并不会产生类型</strong>。所以其实 type 和 interface 其实不是同一个概念，其实他们俩不应该用来比较的，只是有时候用起来看着类似。</li></ul></li></ul></li></ul> <ul><li><p>列举各种排序算法 分别对应的优缺点和时间复杂度</p> <ul><li>冒泡、选择、插入 都是<strong>O(n^2)</strong></li> <li>希尔、归并、快排、堆排序 都是<strong>O(nlogn)</strong></li> <li>上面这几种中，冒泡插入归并是稳定的，其他都是不稳定的</li></ul></li> <li><p>快排</p> <ul><li>手写</li> <li>Array.prototype.sort()底层实现
<ul><li>V8： &lt;=10 <em>插入排序 O(n)</em>； &gt;10 <em>快排 O(nlogn)</em></li> <li>V8 引擎 7.0 版本之后，舍弃快排，因为其不稳定，使用 TimSort 混合排序算法，插入加归并</li></ul></li> <li>topK 问题
<ul><li>大顶堆，小顶堆：O(nlogk)</li></ul></li></ul></li> <li><p>js 原型链与对象</p> <ul><li>创建对象的 3 种方法
<ul><li>实现 Object.create</li></ul></li> <li>构造函数、实例、原型对象 间的关系</li> <li>原型链的工作原理</li> <li>实现 new 操作符</li></ul></li></ul> <ul><li><p>js 基本数据类型</p> <ul><li>6 基本+1 引用(5 个)</li> <li>原始类型的特性——不可变性</li> <li>栈内存与堆内存</li> <li>基本类型与引用类型的 复制、比较、值传递与引用传递：
<ul><li>ECMAScript 中所有的函数的参数都是按值传递的。</li></ul></li></ul></li> <li><p>盒模型</p> <ul><li>box-sizing:
<ul><li><code>content-box</code>（<code>默认值</code>，<code>标准盒模型</code>）：width 与 height 只包括内容的宽和高</li> <li><code>border-box</code> （<code>IE盒模型</code>，也叫 Quirks<code>怪异模型</code>）：</li> <li>offsetWidth 水平方向 width + 左右 padding + 左右 border-width</li> <li>clientWidth 水平方向 width + 左右 padding</li> <li>margin 与 padding 值设置为百分数时，其值的计算参照 最近父级元素 width，注意，四个方向都是以父级的宽来百分比的</li></ul></li> <li>JS 如何设置获取盒模型对应的宽和高（4 种）</li> <li>外边距重叠：垂直方向</li> <li>BFC(块级格式化上下文)
<ul><li>特性
<ul><li>隔离了的独立容器——边距重叠解决方案</li> <li>可以包含浮动元素，避免高度塌陷（计算 BFC 高度的时候，浮动元素也会参与计算）</li></ul></li> <li>创建 BFC
<ul><li>float 除 none</li> <li>overflow 除 visible</li> <li>绝对定位</li> <li>display （inline-blocks，flex，inline-flex，table，table-cells，table-captions...)</li></ul></li></ul></li></ul></li> <li><p>CSS3 种定位机制：普通流、浮动和绝对定位。</p> <ul><li><p>display</p> <ul><li>行内元素：<strong>典型行内元素</strong>：span、a、label、input、textarea、select、 img、br、strong、em
<ul><li>不独占一行</li> <li>元素的高度、宽度、行高及顶部和底部边距不可设置，宽高由包含的元素撑开</li> <li>margin 在垂直方向上不生效；设置 padding 本身生效，但是没有把父级元素撑开</li></ul></li> <li>块级元素：<strong>典型块级元素</strong>：div、p、h1、form、ul、li
<ul><li>独占一行</li> <li>元素的高度、宽度、行高以及顶和底边距都可设置，如果不主动设置，则与其父元素一致</li></ul></li> <li>line-height：1.5，line-height：150%以及 line-height：1.5em 的区别</li></ul></li> <li><p>position</p> <ul><li>相对定位
<ul><li>relative：
<ul><li><code>相对于自身原有位置进行偏移</code>，仍处于标准文档流之中。保有原来的 display 属性。</li> <li><strong>注意</strong>：<code>relative元素如果设置偏移后，它原来占据的文档流中的位置仍然会保留，不会被其他块浮动过来填补掉。并且，它的偏移也不会把别的块从文档流中原来的位置挤开，如果有重叠的地方它会重叠在其它文档流元素之上</code>。</li></ul></li></ul></li> <li>绝对定位
<ul><li>fixed：以浏览器<code>可视窗口为基准</code>偏移</li> <li>absolute：
<ul><li>在无已定位祖先元素时，以根节点<code>&lt;html&gt;</code>为基准偏移；</li> <li>在有已定位祖先元素时，<code>相对于最近一级的、不是static定位的父元素</code>来定位。</li></ul></li></ul></li> <li>奇技淫巧：fixed 相对于父元素定位
<ul><li>fixed 在特殊情况下不会相对于视口来定位，如果当前元素的父元素 transform 不为 none，不添加:top,bottom,left,right 样式，那么定位的元素就不是依据视口进行定位，而是依据父元素进行定位</li></ul></li></ul></li> <li><p>居中</p> <ul><li><p>垂直居中</p> <ul><li><ol><li>对单行文本居中 height line-Height</li></ol></li> <li><ol start="2"><li>模拟 div 表格居中 display：table-cell 与 vertical-align: center</li></ol></li> <li><ol start="3"><li>绝对定位元素居中 无论知不知道宽高，都
position: absolute;
left: 50%;
top: 50%;
transform: translate(-50%, -50%);</li></ol></li> <li><ol start="4"><li>flex 居中 align-items: center;</li></ol></li></ul></li> <li><p>水平居中</p> <ul><li><ol><li>居中行内元素 text-align: center;</li></ol></li> <li><ol start="2"><li>居中一个块级元素 width:200px; margin:0 auto;</li></ol></li> <li><ol start="3"><li>绝对定位元素居中 无论知不知道宽高，都
position: absolute;
left: 50%;
top: 50%;
transform: translate(-50%, -50%);</li></ol></li> <li><ol start="4"><li>flex 居中 justify-content: center;</li></ol></li></ul></li></ul></li></ul></li> <li><p>提升页面性能的方法（5 点）</p> <ul><li>资源压缩合并</li> <li>善用浏览器缓存
<ul><li>缓存命中流程
<ul><li>强缓存
<ul><li>cache-control: public, private, no-store, no-cache</li></ul></li> <li>协商缓存</li></ul></li> <li>缓存具体原理
<ul><li>与 Last-Modified 不一样的是，当服务器返回 304 Not Modified 的响应时，由于 ETag 重新生成过，response header 中还会把这个 ETag 返回，即使这个 ETag 跟之前的没有变化。</li> <li>字段优先级</li> <li>强缓存如何重新加载浏览器缓存里面已经缓存过的资源</li></ul></li></ul></li> <li>非核心代码异步加载（防止 js 阻塞解析）
<ul><li>3 种情况的加载执行图示</li> <li>async 不确保执行顺序，defer 确保</li> <li>defer 在 DOMContentLoaded 事件流触发前执行</li> <li>DOMContentLoaded 与 onload 的区别</li></ul></li> <li>静态资源异步加载
<ul><li>rel=&quot;preload&quot;，本页面可能用到的资源，一般立即加载</li> <li>rel=&quot;prefetch&quot;，下个页面可能用到的资源，一般空闲时才加载</li> <li>prefetch 跟 preload 不同在于：用户从 A 页面进入 B 页面，preload 的内容会失效，而 prefetch 的内容可以在 B 页面使用。</li></ul></li> <li>CDN
<ul><li>CDN，内容分发网络。通过在 Internet 中增加一层新的网络架构，将网站的内容发布到最接近用户的网络“边缘”，使用户可以就近取得所需的内容，提高用户访问网站的响应速度。</li></ul></li> <li>DNS 预解析
<ul><li>rel=&quot;dns-prefetch&quot;</li> <li>标签 《meta http-equiv=&quot;x-dns-prefetch-control&quot; content=&quot;on&quot;&gt;在 https 下开启 a 标签的 dns 预解析</li></ul></li></ul></li></ul> <ul><li>PNG，JPG，GIF，WEBP 的区别
<ul><li>jpg 是有损压缩，适合照片，文件小。</li> <li>png 是无损压缩，适合透明图，小图，做照片文件偏大。</li> <li>gif 是一种位图文件格式，以 8 位色重现真色彩的图像。可以实现动画效果。</li> <li>webp 格式是谷歌在 2010 年推出的图片格式，压缩率只有 jpg 的 2/3，大小比 png 小了 45%。
<ul><li>缺点是压缩的时间更久了，兼容性不好，目前谷歌和 opera 支持。</li></ul></li></ul></li></ul> <ul><li><p>CSS 样式</p> <ul><li>选择器优先级
<ul><li>内联样式 &gt; ID 选择器 &gt; 伪类 &gt; 属性选择器 &gt; 类选择器 &gt; 标签选择器 &gt; 通用选择器（*）</li> <li>样式表中定义在后面的会覆盖之前的</li></ul></li> <li>CSS3 新增伪类
<ul><li>p:first-of-type：选择属于其父元素的首个 p 元素的每个 p 元素。</li> <li>p:last-of-type：选择属于其父元素的最后 p 元素的每个 p 元素。</li> <li>p:only-of-type：选择属于其父元素唯一的 p 元素的每个 p 元素。</li> <li>p:only-child：选择属于其父元素的唯一子元素的每个 p 元素。</li> <li>p:nth-child(2)：选择属于其父元素的第二个子元素的每个 p 元素。
<ul><li>p:nth-child(even)：偶数行</li> <li>p:nth-child(odd)：奇数行</li> <li>p:nth-child(2n)：偶数行</li> <li>p:nth-child(2n+1)：奇数行</li> <li>p:nth-child(-n+3)：n 为 1、2、3 的元素（-n+3&gt;0 的元素）</li></ul></li> <li>:enabled :disabled：控制表单控件的禁用状态。</li> <li>:checked：单选框或复选框被选中。</li></ul></li> <li>flex 布局
<ul><li>主轴、交叉轴</li> <li>justify-content 主轴对齐方式</li> <li>align-items 交叉轴对齐方式</li> <li>align-content 交叉轴多根轴线时对齐方式</li> <li>flex：1 （1 1 0）
<ul><li>flex-grow 1 放大</li> <li>flex-shrink 1 缩小</li> <li>flex-basis 0 占据空间基准</li></ul></li> <li>flex：auto (1 1 auto) 和 none (0 0 auto)。</li> <li>两列布局
.left {
flex: 0 0 80px;
width: 80px;
}
.right {
flex: 1; // 等价于 1 1 0
}</li> <li>flex-basis 属性定义了在分配多余空间之前，item 占据的主轴空间（main size）。<em>浏览器根据这个属性，计算主轴是否有多余空间</em>。它的默认值为 auto，即项目的本来大小。</li></ul></li> <li>多种方式实现三栏布局
<ul><li>（1）浮动：</li> <li>（2）绝对定位</li> <li>（3）flex 弹性</li> <li>（4）table 表格</li> <li>（5）grid 网格：
<ul><li>grid-template-rows:</li> <li>grid-template-column:</li></ul></li> <li>只有 flex 弹性布局 与 table 表格布局 是在高度超出后其他块的高度也跟随变高</li></ul></li> <li>最后一行左对齐问题
<ul><li>flex
<ul><li>案例：每一行列数是固定的
<ul><li>根据个数最后一个元素动态 margin</li></ul> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 如果最后一行是3个元素 */</span>
<span class="token selector">.list:last-child:nth-child(4n - 1)</span> <span class="token punctuation">{</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>24% + 4% / 3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 如果最后一行是2个元素 */</span>
<span class="token selector">.list:last-child:nth-child(4n - 2)</span> <span class="token punctuation">{</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> <span class="token function">calc</span><span class="token punctuation">(</span>48% + 8% / 3<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>案例：子元素宽度不固定，最后一行左对齐
<ul><li>方法 1：最后一项 margin-right: auto</li> <li>方法 2：::after 伪元素 flex:auto 或 flex:1</li></ul> <div class="language-css extra-class"><pre class="language-css"><code><span class="token comment">/* 方法1 */</span>
<span class="token selector">.container:nth-of-type(1) &gt; :last-child</span> <span class="token punctuation">{</span>
	<span class="token property">margin-right</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 方法2 */</span>
<span class="token selector">.container:nth-of-type(2)::after</span> <span class="token punctuation">{</span>
	<span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token property">flex</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment">/* 或者flex: 1 */</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>案例：每一行列数不固定
<ul><li>使用足够的空白标签进行填充占位</li></ul></li></ul></li> <li>Grid 布局
<ul><li>天然有 gap 间隙，且天然格子对齐排布，因此，实现最后一行左对齐可以认为是天生的效果。</li> <li>但是 repeat()函数兼容性不好，IE 不支持</li></ul></li></ul></li> <li>经典布局 Sticky Footer
<code>html &lt;div class=&quot;wrapper&quot;&gt; &lt;div class=&quot;content&quot;&gt;&lt;!-- 页面主体内容区域 --&gt;&lt;/div&gt; &lt;div class=&quot;footer&quot;&gt;&lt;!-- 需要做到 Sticky Footer 效果的页脚 --&gt;&lt;/div&gt; &lt;/div&gt;</code> <ul><li>方法 1：absolute（需指定 html、body 100% 的高度，wrapper 的 min 且 content 的 padding-bottom 需要与 footer 的 height 一致。）<div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">html,
body</span> <span class="token punctuation">{</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.wrapper</span> <span class="token punctuation">{</span>
	<span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
	<span class="token property">min-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
	<span class="token property">padding-bottom</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span> // padding-bottom预留footer高度
	<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.footer</span> <span class="token punctuation">{</span>
	<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
	<span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>方法 2：Flexbox（指定 flex 容器为纵向，content flex 1 自动占满可用空间）<div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
	<span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">body</span> <span class="token punctuation">{</span>
	<span class="token property">min-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
	<span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
	<span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.content</span> <span class="token punctuation">{</span>
	<span class="token property">flex</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul></li> <li><p>移动端问题</p> <ul><li><p>JSBridge 原理</p> <ul><li>实现原理（异步双向）
<ul><li>JavaScript 调用 Native
<ul><li><ol><li>注入 API（推荐）</li></ol> <ul><li>webView.window[funcName] = NativeSomeFunc</li></ul></li> <li><ol start="2"><li>拦截 URL SCHEME</li></ol> <ul><li>例如 iframe.src，Native 拦截后根据 URL 参数去做操作</li></ul></li></ul></li> <li>Native 调用 JavaScript
<ul><li>执行拼接 JavaScript 字符串，JavaScript 的方法必须在全局的 window 上</li></ul></li></ul></li></ul></li> <li><p>fastClick</p> <ul><li><p>解决的问题（在 H5 端）</p> <ul><li>手动点击与真正触发 click 事件会存在 300ms 的延迟
<ul><li>延迟的存在是因为浏览器想知道你是否在进行双击操作，如果是双击，移动端会缩放</li></ul></li> <li>点击穿透问题（点击行为会穿透元素触发非父子关系元素的事件）
<ul><li>点击穿透是因为 300ms 延迟触发时的副作用。</li> <li>具体穿透现象：
比如点击弹窗浮层关闭按钮时，也点击了浮层下页面上对应位置的元素（正常是不应该点击到页面上的对应的元素的）
之所以说点击穿透是 300ms 延迟触发的副作用，可通过如下过程分析得出：
手指触碰到屏幕时，触发 touchstart , 弹窗隐藏（这里就已经隐藏了，而如果不是双击，click 可能在 300ms 后才触发）
手指按上时，可能会有短暂的停留和轻微的移动，触发 touchmove
手指离开屏幕时，触发 touchend
等待 300ms 后，看用户在此时间内是否再次触摸屏幕，如果没有
300ms 后，此时弹窗已消失，浏览器在用户手指离开的位置触发 click 事件，所以点到了页面上的元素</li></ul></li></ul></li> <li><p>fastclick 原理:</p> <ul><li>在检测到 touchend 事件的时候，会通过 DOM 自定义事件立即触发模拟一个 click 事件，并把浏览器在 300ms 之后真正的 click 事件阻止掉
<ul><li>移动端，当用户点击屏幕时，会依次触发 touchstart，touchmove(0 次或多次)，touchend，mousemove，mousedown，mouseup，click。即【touch 事件】【mouse 事件】【click 事件】</li> <li>touchmove 只有当手指在屏幕发生移动的时候才会触发 touchmove 事件。<strong>在 touchstart ，touchmove 或者 touchend 事件中的任意一个调用 event.preventDefault，mouse 事件 以及 click 事件将不会触发。</strong></li></ul></li> <li>具体实现：
<ul><li><code>在 touchend 阶段 调用 event.preventDefault</code>，然后通过 <code>document.createEvent 创建一个 MouseEvents，然后 通过 event​Target​.dispatch​Event 触发对应目标元素上绑定的 click 事件。</code></li> <li><a href="https://juejin.im/post/5ce764a2f265da1b8c19645a#heading-3" target="_blank" rel="noopener noreferrer">2019 再聊移动端 300ms 延迟及 fastClick 原理解析<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></li> <li><p>其他解决点击穿透问题的方案：</p> <ol><li>pointer-events，让被覆盖元素（下层元素 box）短时间内无法触发 click
CSS3 的 pointer-events 属性有很多值，有用的主要是 auto（与不设置一样） 和 none（元素不再是 target）<div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 监听touchstart事件，让下方的box元素先 pointer-events: none。。。延迟350ms后再改回auto</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.mask&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;touchstart&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mask-touchstart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;display&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//让被覆盖元素无法响应click</span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;pointer-events&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token comment">//恢复被覆盖元素</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;pointer-events&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>设置蒙层 mask 消失的延迟
touch 后延迟 350ms 再隐藏 mask。先把透明度设置为 0，解决视觉层面的效果，在设置定时器延迟，让蒙层元素消失<div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 监听touchstart事件，让mask的透明度先设为0，并延迟350ms后再 display: none</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.mask&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">&quot;touchstart&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;mask-touchstart&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;opacity&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;.mask&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;display&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">350</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><a href="https://www.cnblogs.com/leftJS/p/11095226.html" target="_blank" rel="noopener noreferrer">点击穿透问题的方案<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ol></li></ul></li> <li><p>移动端适配</p> <ul><li>基本概念：
<ul><li>物理像素(physical pixel)：物理像素又被称为设备像素，显示设备中一个<strong>最微小的物理部件</strong>；</li> <li>设备独立像素(density-independent pixel，简称 DIPs)：设备独立像素也称为<code>密度无关像素</code>，可以认为是计算机<strong>坐标系统中的一个点</strong>，程序使用的虚拟像素(比如说 CSS 像素)，然后由相关系统转换为物理像素。</li> <li><code>设备像素比</code>(device pixel ratio，简称为<code>dpr</code>)：设备像素比 ＝ 物理像素 / 设备独立像素(即 CSS 像素)；
<ul><li>在 JS 中获取 dpr：window.devicePixelRatio。</li> <li>在 CSS 中，通过-webkit-device-pixel-ratio，-webkit-min-device-pixel-ratio 和 -webkit-max-device-pixel-ratio 进行媒体查询。
<code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, maximum-scale=1&quot;&gt;&lt;/meta&gt;</code></li></ul></li></ul></li> <li>适配方案
<ol><li>lib-flexible 手淘 H5
<ul><li>rem 就是相对于根元素<code>&lt;html&gt;</code>的 font-size 来做计算。</li> <li>基准：750 设计稿；</li> <li>通过 Hack 手段来根据设备的 dpr 值相应改变<code>&lt;meta&gt;</code>标签中 viewport 的值
<ul><li>根据 dpr 的值来修改 viewport 实现 1px 的线</li> <li>根据 dpr 的值来修改 html 的 font-size，从而使用 rem 实现等比缩放</li> <li>使用 Hack 手段用 rem 模拟 vw 特性</li></ul></li> <li>与 rem 相对的，<code>em</code>是相对于<code>父级元素font-size</code>来计算大小的，em 会继承父级元素的字体大小，浏览器默认字体高为 16px，默认 1em=16px*</li></ul></li> <li>Viewport（vw）
<ul><li>以前的 Flexible 方案是通过 JS 来模拟 vw 的特性，但目前，vw 已经得到了众多浏览器的支持，因此可以直接考虑将 vw 单位运用于我们的适配布局中。
<ul><li>vw：是 Viewport's width 的简写,1vw 等于 window.innerWidth 的 1%</li> <li>vh：和 vw 类似，是 Viewport's height 的简写，1vh 等于 window.innerHeight 的 1%</li> <li>vmin：vmin 的值是当前 vw 和 vh 中较小的值</li> <li>vmax：vmax 的值是当前 vw 和 vh 中较大的值</li> <li>如果 window.innerHeight &gt; window.innerWidth 则 vmin 取百分之一的 window.innerWidth，vmax 取百分之一的 window.innerHeight 计算。</li></ul></li> <li>使用 vw 来实现页面的适配，并且通过 PostCSS 的插件<code>postcss-px-to-viewport</code>把 px 转换成 vw。这样的好处是，我们在撸码的时候，不需要进行任何的计算，你只需要根据设计图写 px 单位</li> <li>为了更好的实现长宽比，特别是针对于 img、video 和 iframe 元素，通过 PostCSS 插件<code>postcss-aspect-ratio-mini</code>来实现，在实际使用中，只需要把对应的宽和高写进去即可</li> <li>对于 <code>1px</code> 是不建议将其转换成对应的 vw 单位的，但在 Retina 下，我们始终是需要面对如何解决 1px 的问题。 - 为了解决 1px 的问题，使用 PostCSS 插件<code>postcss-write-svg</code>，自动生成 border-image 或者 background-image 的图片
缺点： - px 转换成 vw 单位，多少还会存在一定的像素差，毕竟很多时候无法完全整除。 - 当容器使用 vw 单位，margin 采用 px 单位时，很容易造成整体宽度超过 100vw，可以使用 calc()函数解决 vw 和 px 混合使用的问题。</li></ul></li></ol></li></ul></li> <li><p>1px border 问题</p> <ul><li>产生原因：由于不同的手机有不同的 CSS 像素密度，所以设备独立像素（css 像素）中的 1px 并不等于设备的物理像素的 1px。所以当你写 1px 样式时，当 dpr 为 2 时，显示的就是 2px。</li> <li>解决办法：
<ul><li>使用 viewport 设置 rem 基准（手淘使用的 lib-flexible 就是这种方式）<div class="language-html extra-class"><pre class="language-html"><code>在devicePixelRatio = 2 时，输出viewport：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
	<span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
在devicePixelRatio = 3 时，输出viewport：
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span>
	<span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>initial-scale=0.3333333333333333, maximum-scale=0.3333333333333333, minimum-scale=0.3333333333333333, user-scalable=no<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre></div></li> <li>利用 伪类 + transform 实现
<ul><li>原理是：把原先元素相对定位，border 去掉，然后利用 :before 或者 :after 重做 border，设为绝对定位，并 transform 的 scale 缩小为对应 dpr 比例</li></ul> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.border-1px</span> <span class="token punctuation">{</span>
	<span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token selector">;
	&amp;::before</span> <span class="token punctuation">{</span>
		<span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
		<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
		<span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
		<span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
		<span class="token property">width</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
		<span class="token property">border</span><span class="token punctuation">:</span> 1px solid red<span class="token punctuation">;</span>
		<span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
		<span class="token property">height</span><span class="token punctuation">:</span> 200%<span class="token punctuation">;</span>
		<span class="token property">-webkit-transform-origin</span><span class="token punctuation">:</span> left top<span class="token punctuation">;</span>
		<span class="token property">transform-origin</span><span class="token punctuation">:</span> left top<span class="token punctuation">;</span>
		<span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* 防止点击触发 */</span>
		<span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
		<span class="token atrule"><span class="token rule">@media</span> screen <span class="token keyword">and</span> <span class="token punctuation">(</span><span class="token property">min-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token punctuation">(</span><span class="token property">-webkit-min-device-pixel-ratio</span><span class="token punctuation">:</span> 3<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
			<span class="token property">width</span><span class="token punctuation">:</span> 300%<span class="token punctuation">;</span>
			<span class="token property">height</span><span class="token punctuation">:</span> 300%<span class="token punctuation">;</span>
			<span class="token property">-webkit-transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.33<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>0.33<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>使用 border-image 实现<div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.test</span> <span class="token punctuation">{</span>
	<span class="token property">border</span><span class="token punctuation">:</span> 1px solid transparent<span class="token punctuation">;</span>
	<span class="token property">border-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;./border-1px.png&quot;</span><span class="token punctuation">)</span></span> 2 repeat<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li>使用 box-shadow 模拟边框</li> <li>直接写 0.5px 边框
<ul><li>这种方法有的浏览器不支持，会识别为 0px</li></ul></li> <li><a href="http://blog.lemonss.net/2016/12/08/retina-1px-border/" target="_blank" rel="noopener noreferrer">7 种方法解决移动端 Retina 屏幕 1px 边框问题<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.im/post/5af136b8f265da0b7a20a40e#heading-5" target="_blank" rel="noopener noreferrer">1px 边框解决方案总结<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></li></ul></li> <li><p>事件流</p> <ul><li>DOM2 级 事件规定的事件流包括 3 个阶段：<code>事件捕获阶段</code>，<code>处于目标阶段</code>，<code>事件冒泡阶段</code>。</li> <li>自定义事件 new Even('test')</li> <li>事件代理</li></ul></li> <li><p>事件循环</p></li> <li><p>防抖和节流</p> <ul><li>防抖是将多次执行变为最后一次执行，节流是将多次执行变为在规定时间内只执行一次。
<ul><li>各自的原理</li> <li>各自的场景</li> <li>各自的代码实现</li></ul></li></ul></li></ul> <p>js 编译器
js 解释器</p> <ul><li><p>js 作用域</p> <ul><li>作用域的作用：作用域决定了内部变量的生命周期(即何时被释放)，以及哪一部分代码可以访问其中的变量</li> <li>作用域链的用途：是保证对执行环境有权访问的所有变量和函数的有序访问。</li> <li>作用域的工作流程
<ol><li>浏览器在首次载入脚本时，会创建全局执行上下文（<code>全局作用域</code>），并压入<strong>执行栈</strong>栈顶（<code>全局执行上下文是永远不会被弹出的</code>）；</li> <li>然后每进入其它作用域（即<code>函数作用域</code>）就创建对应的执行上下文并把它压入执行栈的顶部，一旦对应的上下文执行完毕，就从栈顶弹出，并将上下文控制权交给当前的执行栈。</li> <li>这样依次执行（最终都会回到全局执行上下文）。</li> <li>当前执行上下文执行完毕时，被弹出执行栈，然后如果其没有被引用（没有形成闭包），那么这个函数中用到的内存就会被垃圾处理器<em>自动回收</em>。</li></ol></li> <li>this 绑定规则（4 条）
<ul><li>默认绑定：绑定到全局对象 window 或 global，在严格模式下绑定到 undefined。</li> <li>隐式绑定：由上下文对象调用，绑定到那个上下文对象（谁调用，指向谁）。
<ul><li>将隐式绑定的函数以回调的形式传递给另一个自定义函数、第三方库函数或者像 setTimeout 这样的内置 JavaScript 函数时，丢失执行上下文，回退到默认绑定规则</li></ul></li> <li>主动绑定：由 call 或者 apply(或者 bind)调用，绑定到指定的对象。</li> <li>由 new 调用：绑定到新创建的实例对象。
<ul><li>构造函数忘记使用 new，则相当于使用实函数，创建全局变量</li></ul></li></ul></li> <li>什么是闭包
<ul><li>创建闭包（2 种）</li> <li>闭包的缺点
<ul><li>滥用闭包会造成内存的大量消耗</li> <li>副作用，闭包函数只能取到外层函数变量的最终值。这个问题可以通过立即执行函数解决。
<ul><li>之所以拿到最终值，是因为<code>函数在预解释阶段，被闭包引用的原始数据也被存在了堆内存中</code>，等到函数执行阶段，循环变量已经达到最终值，才被传入执行。</li> <li>使用立即执行函数包裹后，由于函数参数是按值传递的，所以就会将变量 i 的当前值复制给形参 index。</li></ul></li></ul></li> <li>清除闭包常驻内存
<ul><li>当一个内存空间没有变量指向的时候就会被回收。所以直接 <code>foo = null</code></li></ul></li> <li>垃圾回收机制
<ul><li>分类
<ul><li>引用计数</li> <li>【标记清除】，js 引擎使用</li></ul></li> <li>存在问题：垃圾回收时停止响应其他操作
<ul><li>优化：【分代回收】，区分“临时”与“持久”对象，多回收临时对象，少回收持久对象。V8 引擎就是用分代回收。</li></ul></li></ul></li> <li>内存泄漏的原因： -【循环引用】和【闭包】</li> <li>变量和函数声明提升
<ul><li><strong>函数整体在变量整体的下面</strong>（即<em>变量提升的优先级更高，在最顶上</em>）。
<ul><li>第一阶段，先提升函数：对所有函数声明进行提升（忽略表达式和箭头函数）</li> <li>第二阶段，再提升变量因此变量在更高的位置：对所有的变量进行提升，全部赋值为 undefined（如果已经存在，不赋值为 undefined）</li></ul></li></ul></li></ul></li></ul></li> <li><p>数据结构</p> <ul><li><p>数组</p> <ul><li>广义上数组和链表的区别：
<ul><li><ol><li>存储形式：数组是一块连续的空间，声明时就要确定长度。链表是一块可不连续的动态空间，长度可变，每个节点要保存相邻结点指针；</li></ol></li> <li><ol start="2"><li>数据查找：数组的线性查找速度快，查找操作直接使用偏移地址。链表需要按顺序检索结点，效率低；</li></ol></li> <li><ol start="3"><li>数据插入或删除：链表可以快速插入和删除结点，而数组则可能需要大量数据移动；</li></ol></li> <li><ol start="4"><li>越界问题：链表不存在越界问题，数组有越界问题。</li></ol></li></ul></li> <li>js 中数组的特点
<ul><li>js 中数组是由 Array 构造函数创建的对象，与 java 不同，有 3 个自己的特性</li> <li>1、无类型：数组成员可以是任意类型，且同一个数组中可以有不同类型的成员</li> <li>2、长度可变：数组长度可以动态变化，所以 js 中数组不存在越界问题</li> <li>3、不连续性：数组成员可以不连续</li></ul></li></ul></li> <li><p>Set 和 Map</p> <ul><li>Set
<ol><li>成员不能重复</li> <li>只有健值，没有健名，有点类似数组。</li> <li>可以遍历，方法有 add, delete,has</li></ol></li> <li>weakSet
<ol><li>成员都是对象</li> <li>成员都是弱引用，随时可以消失。 可以用来保存 DOM 节点，不容易造成内存泄漏</li> <li>不能遍历，方法有 add, delete,has</li></ol></li> <li>Map
<ol><li>本质上是健值对的集合，类似集合</li> <li>可以遍历，方法很多，可以跟各种数据格式转换</li></ol></li> <li>weakMap
<ol><li>只接受对象作为健名（null 除外），不接受其他类型的值作为健名</li> <li>健名所指向的对象，不计入垃圾回收机制</li> <li>不能遍历，方法同 get,set,has,delete</li></ol></li></ul></li> <li><p>for in</p></li> <li><p>Object.keys</p></li> <li><p>Object.getOwnProperty</p></li></ul></li> <li><p>继承</p> <ul><li>ES5
<ul><li>原型链继承
<ul><li>缺点：原型上任何类型的属性值都不会通过实例被重写，但是引用类型的属性值会受到实例的影响而修改</li></ul></li> <li>借用构造函数继承
<ul><li>缺点：只实现了部分继承，父类的原型对象上的属性无法被子类继承。</li></ul></li> <li>组合继承（原型链+借用构造函数）
<ul><li>特点：借用构造函数拷贝属性副本，与原型链继承共有属性</li> <li>优化：
<ul><li>解决 Parent 执行两次</li> <li>解决 s.constructor 指向问题</li></ul></li></ul></li></ul></li> <li>ES6
<ul><li>extends</li> <li>super 的两种使用方式：函数、对象</li> <li>ES6 继承与 ES5 继承机制比较
<ul><li>ES5 的继承，实质是先创造子类的实例对象 this，然后再将父类的方法添加到 this 上面（Parent.apply(this)）。</li> <li>ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到 this 上面（所以必须先调用 super 方法），然后再用子类的构造函数修改 this。</li></ul></li></ul></li></ul></li></ul> <ul><li><p>JS 模块化规范</p> <ul><li>1、CommonJS
<ul><li>同步加载、require/module.exports、以 node.js 为代表</li></ul></li> <li>2、AMD
<ul><li>异步加载、依赖前置</li></ul></li> <li>3、CMD
<ul><li>异步加载、依赖就近</li></ul></li> <li>4、UMD
<ul><li>commonjs+AMD</li></ul></li> <li>5、ES6Module
<ul><li>成为浏览器和服务器通用的模块解决方案</li> <li>静态化、使得编译时就能确定模块的依赖关系、输入、输出</li> <li>import，因为是在编译阶段执行，import 会 提升</li> <li>export</li> <li>目前 import/export 最终都是编译为 require/exports 来执行的</li></ul></li> <li>ES6 Module 与 CommonJS 两种模块化规范的比较
<ul><li>输出类型不同
<ul><li>CommonJS 输出 值的拷贝副本</li> <li>ES6Module 输出 值的引用</li></ul></li> <li>执行时机不同
<ul><li>CommonJS 运行时加载</li> <li>ES6Module 编译时输出接口</li></ul></li> <li>执行位置不同
<ul><li>require 可以理解为一个全局方法，就意味着可以在任何地方执行</li> <li>import 因为在编译时执行，所以必须写在文件的顶部</li></ul></li> <li>性能差异
<ul><li>require 的性能相对于 import 稍低，因为 require 是在<strong>运行时才加载整个模块</strong>并且还赋值给某个变量</li> <li>import 只需要依据 import 中的接口在编译时引入指定模块所以性能稍高</li></ul></li> <li>循环加载时处理不同
<ul><li>CommonJS require 的时候，就会全部执行。一旦出现某个模块被&quot;循环加载&quot;，就只输出已经执行的部分，还未执行的部分不会输出。</li> <li>ES6Module import 时成为指向被加载模块的引用，因此在&quot;循环加载&quot;时，也只能由开发者自己保证，真正取值的时候能够取到值。</li></ul></li></ul></li></ul></li> <li><p>web worker</p> <ul><li>web worker 是运行在后台的 JavaScript，独立于其他脚本，不会影响页面的性能。用户可以继续做任何愿意做的事情：点击、选取内容等等，而此时 web worker 在后台运行。</li> <li>分类
<ul><li>Dedicated Worker：专用的 worker，只能被创建它的 JS 访问</li> <li>Shared Worker：共享的 worker，可以被同一域名下的 JS 访问</li> <li>Service Worker：事件驱动的 worker，生命周期与页面无关。Service Worker 表示离线缓存文件，其本质是<em>Web 应用程序</em>与<em>浏览器</em>之间的<strong>代理服务器</strong>。
<ul><li>可以在网络可用时作为浏览器和网络间的代理，也可以在离线或者网络极差的环境下使用离线的缓存文件。</li></ul></li></ul></li> <li>Dedicated Worker 和 Shared Worker 专注于解决<code>「耗时的JS执行 影响 UI响应」</code>的问题。</li> <li>Service Worker 则是为解决<code>「Web App 的用户体验不如 Native App」</code>的普遍问题。</li></ul></li> <li><p>Webpack</p> <ul><li><p>所有文件都是模块，只认识 js 模块，所以要通过一些 loader 把 css、图片等文件转化成 webpack 认识的模块。</p></li> <li><p>打包结果</p> <ul><li>app.js：团队编写的源码入口文件</li> <li>vendor.js：源码依赖的第三方 vendor 代码</li> <li>n.js：按数字索引的团队源码异步拆分部分</li> <li>manifest.js，有些项目也直接命名为 runtime.js：这个 manifest 文件是最先加载的「指引文件」，runtime 通过其记录的模块标识符，处理和加载其他 bundle 文件，使其按要求进行加载和执行。
<ul><li>打包后 js 文件的加载顺序是先 manifest.js，再 vendor.js，之后才是 app.js</li></ul></li></ul></li> <li><p>module、chunk、bundle3 者的关系</p> <ul><li><code>module</code> 在开发中的所有的资源(.js、.css、.png)都是 module，是 webpack 打包前的概念。</li> <li><code>chunk</code> 是 webpack 在进行模块的依赖分析的时候，代码分割出来的代码块。一个 chunk 可能包含若干 module。</li> <li><code>bundle</code> 最终输出到用户端的 chunk，被称之为 bundle；
<ul><li>一般一个 chunk 对应一个 bundle
<ul><li>只有在配置了 sourcemap 时，才会出现一个 chunk 对应多个 bundle 的情况。</li> <li>而在 entry 指定数组，多个 chunk 会打包到一个 bundle 中。</li></ul></li></ul></li></ul></li> <li><p>打包后文件</p> <ul><li><p><strong>manifest.js</strong> 内部是一个 IIFE，称为<code>webpackBootstrap启动器函数</code>，这个函数会接受一个空数组（命名为 modules）作为参数。</p> <ul><li><p>除<strong>manifest.js</strong>外的所有其他 bundle，都往 window[&quot;webpackJsonp&quot;]数组里面 push chunkId 和 含有的 modules。</p></li> <li><p>而<strong>manifest.js</strong>提供 3 个核心方法：</p> <ul><li><p>1、提供全局函数 <code>webpackJsonpCallback(data)</code> 来处理全局的 window[&quot;webpackJsonp&quot;] 数组。</p></li> <li><p>2、提供 <code>__webpack_require__(moduleId)</code>：作用就是加载执行对应的 module，并且缓存起来。</p> <ul><li>先判断下 installedModules 中是否有缓存，有则直接返回其 module.exports；</li> <li>没有的话就执行，将 module 输出的内容挂载到 module.exports 对象上，同时缓存到 installedModules 中。</li> <li>注意：每个 module 只会在最开始依赖到的时候加载一次，如果有继续依赖的 module，则递归执行，且加载过的依赖值也只执行一次。</li></ul></li> <li><p>3、提供 <code>__webpack_require__.e(chunkId)</code>，也就是 <code>requireEnsure(chunkId)</code> 异步加载模块，返回 promise。</p> <ul><li>简单地说，是用来 懒加载某个 chunk 的</li> <li>传入一个 chunkId，先判断该 chunk 是否已被加载，是的话直接返回一个成功的 promise，并让 then 执行函数的 <code>__webpack_require__</code> 对应的 module 即可；</li> <li>否则，会动态创建一个 script 标签去加载对应 chunk，加载成功后会将该 chunk 中所有 module 注入到 webpackJsonp 中</li></ul></li></ul></li> <li><p><strong>bundle.js</strong>，app.js 或 n.js 都属于此类。</p> <ul><li>每个 chunk 都是一个 IIFE 的 webpackJsonp 方法</li> <li>webpackJsonp 的具体 3 个参数见上文，</li> <li>其内部会使用到<code>__webpack_require__(moduleId)</code>去加载执行模块</li> <li>如果有异步加载的模块，还会使用<code>__webpack_require__.e(chunkId)</code>去返回 promise</li></ul></li></ul></li></ul></li> <li><p>webpack 构建流程：</p> <ul><li>1、<code>初始化</code>：启动构建，读取与合并配置参数，加载 Plugin，实例化 Compiler。</li> <li>2、<code>编译</code>：从 Entry 出发，针对每个 Module 串行调用对应的 Loader 去翻译文件的内容，再找到该 Module 依赖的 Module，递归地进行编译处理。</li> <li>3、<code>输出</code>：将编译后的 Module 组合成 Chunk，将 Chunk 转换成文件，输出到文件系统中。</li></ul></li> <li><p>关键词</p> <ul><li>bundle：webpack 打包出来的文件。</li> <li>chunk：webpack 依赖分析的时候，分割出来的代码块。</li> <li>entry：建立依赖图的起点，3 种方式配置：字符串、数组、对象。</li> <li>output：
<ul><li>path：dist 文件夹</li> <li>publicPath：浏览器加载代码的 url 通用部分，即 dist 文件后的路径</li></ul></li> <li>Loader 在 module.rules 中配置，对象数组，作为模块的解析规则
<ul><li>test、use、options</li></ul></li> <li>Plugin 在 plugins 中单独配置，类型为数组，每一项是一个 Plugin 的实例
<ul><li>Plugin 可以监听 Webpack 运行的生命周期中广播出的事件</li></ul></li></ul></li> <li><p>常用 loader 和 plugin：</p> <ul><li>loader：sass-loader, postcss-loader, css-loader, style-loader, file-loader, vue-loader, babel-loader</li> <li>plugin：uglifyjs-webpack-plugin, terser-webpack-plugin（压缩 js）, define-plugin, CommonsChunkPlugin, SplitChunksPlugin, HashedModuleIdsPlugin, html-webpack-plugin, WebpackManifestPlugin, MiniCssExtractPlugin, HotModuleReplacementPlugin</li></ul></li> <li><p>提高 webpack 开发效率</p> <ul><li>对打包速度分析：speed-measure-webpack-plugin</li> <li>webpack-merge</li> <li>HotModuleReplacementPlugin</li></ul></li> <li><p>对 bundle 体积进行监控和分析</p> <ul><li>对打包体积分析：webpack-bundle-analyzer</li> <li>VSCode 插件 Import Cost</li></ul></li> <li><p>loader 执行顺序</p> <ul><li>1、默认情况下，会按照配置文件中的书写顺序 从下往上 处理</li> <li>2、enforce 强制执行 loader 的作用顺序： - pre 代表在所有正常 loader 之前执行； - post 是所有 loader 之后执行； - inline 官方不推荐使用。</li></ul></li> <li><p>生产环境使用 source map</p> <ul><li>map 文件只要不打开开发者工具，浏览器是不会加载的。</li> <li>3 种处理方案：
<ul><li>hidden-source-map：借助第三方错误监控平台 Sentry 使用。</li> <li>nosources-source-map：只会显示具体行数以及查看源代码的错误栈。安全性比 sourcemap 高。</li> <li>sourcemap：通过 nginx 设置将 .map 文件只对白名单开放(公司内网)。</li></ul></li> <li>注意：避免在生产中使用 inline- 和 eval-，因为它们会增加 bundle 体积，并降低整体性能。</li></ul></li> <li><p>文件指纹 chunkhash</p> <ul><li>指纹类别
<ul><li>Hash：即每次编译都不同。可以在测试环境打包的 JS 文件中使用'[name].[hash]'</li> <li><code>Chunkhash</code>：不同的 entry 会生出不同的 chunkhash。适用于<code>生产环境</code>打包后的 JS 文件'[name].[chunkhash]'，最大限度利用浏览器缓存。</li> <li>Contenthash：根据文件内容来定义 hash，文件内容不变，则 contenthash 不变。</li></ul></li> <li>[chunkhash]不能和 HMR 一起使用，即开发环境因为不需要持久化缓存，故不要用[chunkhash]、[contenthash]、[hash]，直接用[name]</li> <li>占位符指定长度 [chunkhash:8]</li> <li>各类别适用文件
<ul><li>JS 文件的指纹设置'[name][chunkhash:8].js'
<ul><li>（<em>js 文件为什么不用 contenthash 呢</em>？）</li> <li>因为 js 引入了 css 模块，如果 css 改变，css 使用的 contenthash，css 的指纹变了，但对于引入它的 js 模块来说，如果使用 contenthash，则 js 模块指纹不变。这样就会出错了，因为 js 无法引入更新后的 css 文件。</li></ul></li> <li>CSS 文件的指纹设置'[name][contenthash:8].css'
<ul><li>（<em>css 文件为什么不用 chunkhash 呢</em>？）</li> <li>因为 js 引入了 css 模块，如果 js 改变，js 使用的是 chunkhash，则 chunkhash 会改变，那么其引入的 css 模块也会跟着改变指纹，但这是不合理的，因为 css 自身内容根本没变。</li> <li>所以 css 要使用 contenthash，只与自身内容有关，无视被哪个 js 模块引用。</li></ul></li> <li>Images/Fonts 的指纹设置'[name][hash:8].[ext]', 注意，图片字体的 hash 与和 css 或 js 的 hash 概念不一样，是按内容生成的，不是按编译生成的。</li></ul></li></ul></li> <li><p>持久化缓存 caching（注意 id 问题）</p> <ul><li>通过指定：output.filename: '[name].[chunkhash].js'，内容改变名字才变</li> <li>再配合代码分割：将 vendor.js 单独打包。</li> <li>注意模块 id 变化问题：
<ul><li>异步模块 id 是计数器递增的，如果中间增加了新模块，之后的就要变</li> <li>使用 HashedModuleIdsPlugin 插件来改变模块 ID 的计算方式，哈希值代替计数 ID</li></ul></li></ul></li> <li><p>如何将文件名发送到浏览器</p> <ul><li>HtmlWebpackPlugin</li> <li>WebpackManifestPlugin</li></ul></li> <li><p>webpack 动态加载就两种方式：</p> <ul><li>import()和 require.ensure，不过他们实现原理是相同的。</li></ul></li> <li><p>code splitting</p> <ul><li>将项目代码中无需立即调用的代码，在代码构建时转变为异步加载的过程。</li> <li>代码分割入手点（如何分割）
<ul><li>1、<code>入口文件方式</code>（Entry Points）</li> <li>2、<code>动态引入/懒加载</code>（Dynamic Imports/Lazy-Loading）</li> <li>3、<code>避免重复</code>（Prevent Duplication）
<ul><li>webpack3：CommonsChunkPlugin 提取公共代码块被（Webpack4 废弃了 CommonsChunkPlugin）
new webpack.optimize.CommonsChunkPlugin() - name: 'vendor', minChunks: module =&gt; module.context - name: 'manifest', minChunks: Infinity,</li> <li>webpack4：SplitChunksPlugin 自动分割
module.exports = {
optimization: {
splitChunks: {
chunks: 'all', // 智能将依赖项提取到独立的 chunk 中, vendor.js
}
runtimeChunk: true, // 提取 runtime.js 或叫 manifest.js
},
};</li></ul></li></ul></li> <li>import()代码分割类型（两种）
<ul><li>静态代码分割</li> <li>动态代码分割</li></ul></li> <li>魔法注释
<ul><li>在 import 关键字后的括号中使用指定注释，对分离出的 chunk 进行命名，指定异步加载模块不同打包模式，使异步模块预加载</li></ul></li> <li>Webpack 4 引入了 mode 这个选项（提供 development、production 两种模式，如果 mode 是 production，那 Webpack 4 就会开启 Code Splitting。</li></ul></li> <li><p>webpack 文件监听原理</p> <ul><li>开启监听模式(两种方式)
<ul><li><ol><li>启动 webpack 命令时，带上 --watch 参数，浏览器需刷新</li></ol></li> <li><ol start="2"><li>热更新: WDS 使用 HotModuleReplacementPlugin</li></ol> <ul><li>优点 1：WDS（webpack-dev-server）不刷新浏览器；</li> <li>优点 2：WDS 不输出文件，⽽是放在内存中；</li></ul></li></ul></li></ul></li> <li><p>热更新原理比较难讲清，只要记住上面的两个优点就行了。</p></li> <li><p>优化 Webpack 的构建速度</p> <ul><li><p>1、<code>分包构建</code>（从 vendor.js 中将不太变动的库依赖单独处理，因为比如 axios 不经常变动，打包进 vendor 中造成包很大，并且经常打包也浪费了构建时间），两种方式：</p> <ul><li>1、extenals 外部扩展（CDN）
<ul><li>webpack 打包时，发现 jquery 定义在 externals，是外部引用的，则不会打包 jquery 代码，从而减少打包时间</li></ul></li> <li>2、DLLPlugin &amp;&amp; DllReferencePlugin
<ul><li>Externals 会有多次引用的问题，所以也不好，DLL 则是 前置不经常更新的第三方库依赖包的构建，来提高真正的 build 和 rebuild 构建效率</li> <li>只要第三方库没有变化，之后的每次 build 都只需要去打包自己的业务代码</li> <li>webpack 通过 webpack.DllPlugin 与 webpack.DllReferencePlugin 两个内嵌插件实现此功能。
<ul><li>DllPlugin 进行分包，生成两个文件（bundlejs、bundle.mainifest.json）；</li> <li>DllReferencePlugin 对 bundle.manifest.json 引用，让一些基本不会改动的代码先打包成静态资源，避免反复编译浪费时间。</li></ul></li></ul></li></ul></li> <li><p>2、摇树优化 <code>Tree shaking</code></p> <ul><li>在打包过程中检测工程中没有被引用过的模块并进行标记，在资源压缩时将它们从最终的 bundle 中去掉（只对 ES6 Modlue 生效）</li> <li>原理：
<ul><li>tree-shaking 是因为<em>import 静态引入</em>的能力，得以<em>对文件内容进行浅层比较</em>，去掉未被使用的代码。</li></ul></li> <li>如何使用：
<ul><li>开发中尽可能使用 ES6 Module 的模块，提高 tree shaking 效率。</li> <li>禁用 babel-loader 的模块依赖解析（会转成 commonjs 形式模块，就不能 tree shaking 了）</li> <li>尽量使用 ESM 版的 lodash(lodash-es)，import { dobounce } from 'lodash-es'</li> <li>使用插件，去除无用 CSS 代码</li></ul></li></ul></li> <li><p>3、作用域提升 <code>Scope hoisting</code></p> <ul><li>scope hoisting 会把需要导入的文件直接移入导入者顶部 打包在一起，这就是所谓的 hoisting。
<ul><li>Scope hoisting 的收益
<ul><li>代码量明显减少，因为减少了函数声明语句</li> <li>减少了内存开销</li> <li>运行速度提升：因为不用多次使用<strong>webpack_require</strong>调用模块。</li></ul></li> <li>Scope hoisting 的条件
<ul><li>必须使用 ES6 的语法</li> <li>如何开启：new webpack.optimize.ModuleConcatenationPlugin()
<ul><li>当然开启了也不一定会打包在一起，因为有的是非 ES6 模块或使用异步 import()</li></ul></li></ul></li></ul></li></ul></li> <li><p>4、<code>压缩代码</code></p> <ul><li>多进程并行压缩 webpack-paralle-uglify-plugin，开启 parallel 参数</li> <li>压缩 CSS：mini-css-extract-plugin</li></ul></li> <li><p>5、利用<code>缓存提升二次构建速度</code></p> <ul><li>babel-loader 开启缓存（cacheDirectory：true）</li> <li>terser-webpack-plugin：开启缓存（cache：true）</li></ul></li></ul></li> <li><p>webpack 常用配置技巧</p> <ul><li>省略文件后缀及配置别名：<code>extensions</code>、<code>alias</code></li> <li>模块注入全局变量：使用 <code>ProvidePlugin</code> 配置全局注入</li></ul></li> <li><p>babel 转译过程：</p> <ul><li>parseing：babylon 进行解析得到 ES6 代码的 AST</li> <li>transforming：plugin 用 babel-traverse 对 AST 转译得到新的 AST</li> <li>generating：用 babel-generator 通过 新的 AST 树生成 ES5 代码</li></ul></li></ul></li></ul> <ul><li><p>前端路由模式</p> <ul><li><p>SPA：只有一个 HTML 的应用，利用 JS 动态的变换 HTML 的内容，从而来模拟多个视图间跳转。</p> <ul><li>优点：无需重复加载整个页面，前后端分离职责清晰，服务器压力小</li> <li>缺点：首次加载耗时多，需要管理前进后退路由，SEO 难度较大</li></ul></li> <li><p>前端路由：</p> <ul><li><p>为 SPA 中的每个视图展示形式匹配一个特殊的 url。在刷新、前进、后退和 SEO 时均通过这个特殊的 url 来实现。</p></li> <li><p>前端路由需要实现 2 点：</p> <ul><li><strong>能改变 url 但不让浏览器向服务器发送请求。</strong></li> <li><strong>可以监听到 url 的变化。</strong></li></ul></li> <li><p>hash、history 模式都可以实现上述两点：</p> <ul><li><p>hash 模式 原理</p> <ul><li>改变 hash，不会刷新页面，即 不会导致浏览器向服务器发送请求</li> <li>hashchange 事件</li></ul></li> <li><p>history 模式 原理</p> <ul><li>h5 提供了 history.pushState() 和 history.replaceState()，因此可以实现：改变 url 同时，不会刷新页面</li> <li>如何监听呢？因为 history 的改变并不会触发任何事件，所以需要”曲线救国“，拦截所有可能触发 history 改变的情况，变相监听 history 的改变，
<ul><li>只有 4 种 history 改变途径
<ul><li>点击浏览器的前进或后退按钮；window.onpopstate</li> <li>点击 a 标签；</li> <li>在 JS 代码中触发 history.pushState 函数；</li> <li>在 JS 代码中触发 history.replaceState 函数；</li></ul></li></ul></li></ul></li> <li><p>history 模式为什么需要后端支持？</p> <ul><li><p>history 在修改 url 后，虽然页面并不会刷新，但如果我们手动刷新，或通过 url 直接进入应用的时候，服务端是无法识别这个 url 的</p></li> <li><p>单页应用，其他 url 服务器会 404</p></li> <li><p>因此，需要在服务端增加一个覆盖所有情况的候选资源：如果 URL 匹配不到任何静态资源，则应该返回单页应用的 html 文件。</p> <div class="language- extra-class"><pre><code>  nginx配置修改，主要增加了：
  ```bash
  location / {
      try_files $uri $uri/ @rewrites;
  }
  ```
  try_files 是指当用户请求url资源时 www.xxx.com/xxx，try_files 会到硬盘资源根目录里找 xxx。
  - 如果存在名为 xxx 的文件就返回；
  - 如果找不到再找名为 xxx 的目录；
  - 再找不到就会执行@rewrites。（$uri指找文件， $uri/指找目录）
  ```
  location @rewrites {
      rewrite ^(.+)$ /index.html last;
  }
  ```
  rewrite是nginx中的重定向指令。^(.+)$ 是重定向规则。/index.html重定向路径。
</code></pre></div></li></ul></li> <li><p>如何选择模式呢？</p> <ul><li>因为 history 是趋势，我们直接看 hash 的缺点就好了：
<ul><li>更丑；</li> <li>会导致锚点功能失效；</li> <li>相同 hash 值不会触发动作将记录加入到历史栈中，而 pushState 则可以。</li></ul></li></ul></li></ul></li></ul></li> <li><p>前端路由（重复了，需整理下）</p> <ul><li>hash 模式
<ul><li><code>hash的变化不会向服务器发送请求，即不会刷新页面，但会触发网页跳转，即前进后退</code>，而且 hash 的改变会<code>触发 hashchange 事件</code></li></ul></li> <li>history 模式
<ul><li><code>history.pushState(state, title, url)</code> 和 <code>history.replaceState()</code> <code>可以改变 url 同时，不会刷新页面</code></li> <li>监听 url 变化需要通过监听 4 个方面：
<ul><li>监听前进、后退 <code>window.onpopstate</code><div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onpopstate</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;onpopstate&quot;</span><span class="token punctuation">,</span> event<span class="token punctuation">.</span>state<span class="token punctuation">,</span> location<span class="token punctuation">.</span>pathname<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>监听 a 标签点击</li> <li>js 主动 history.pushState<div class="language-js extra-class"><pre class="language-js"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;page1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;切换路由到&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;page1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;page1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 重要！！</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li> <li>js 主动 history.replaceState</li></ul></li> <li>后端支持，无论访问什么 url，都返回 index.html，并且前端需要添加匹配不到路由时展示 404 页面</li></ul></li> <li>hash 模式相比于 history 模式的优点、缺点：
<ul><li>优点就是更简单</li> <li>缺点
<ul><li>更丑；</li> <li>会导致锚点功能失效；</li> <li>相同 hash 值不会触发动作将记录加入到历史栈中，而 pushState 则可以。</li></ul></li></ul></li></ul></li></ul></li></ul> <ul><li><p>SSR 服务端渲染和同构原理</p> <ul><li><p>为什么要服务端渲染（SSR）</p> <ul><li><code>避免首屏等待</code>，即 TTFP，首屏等待时间</li> <li><code>更好支持SEO</code></li></ul></li> <li><p>主流的 SSR 框架有：</p> <ul><li>NEXT.js，对应 React</li> <li>Nuxt.js，对应 Vue</li></ul></li> <li><p>传统 SSR 与 CSR 客户端渲染（SPA）</p></li> <li><p>前端同构应用（SSR + SPA）：</p> <ul><li>第一次访问页面是服务端渲染，基于第一次访问，后续的交互就是 SPA 的效果和体验，还不影响 SEO。简单说就是一个前端项目里的组件，部分服务端渲染后输出，部分由客户端异步渲染，既保障网页渲染速度，也有利于搜索引擎 SEO。</li></ul></li> <li><p>同构应用需要解决的 3 个问题</p> <ul><li>1、<code>路由同构</code>：双端路由如何维护
<ul><li>路由配置抽取出来 react-router-config</li></ul></li> <li>2、<code>数据预取同构</code>：获取数据的方法和逻辑写在哪里
<ul><li>可选方案：使用高阶组件给路由页面组件绑定数据获取方法，比如 withSSR(WrappedCompoennt, getInitialProps)</li></ul></li> <li>到这里，实现了双端的数据预取同构，但是数据也仅仅是服务端有，浏览器端是没有这个数据，浏览器会渲染出不同的结构替换服务端的渲染</li> <li>3、<code>渲染同构</code>：如何复用 服务端 html
<ul><li>在服务端将预取的数据注入到浏览器，使浏览器端可以访问到。客户端进行渲染前，需要先将数据传入对应的组件，保证 props 的一致性。</li> <li>我们的方案是直接挂在 html 中。</li></ul></li></ul></li> <li><p>SSR 之所以能够实现，<strong>本质上是因为虚拟 DOM 的存在</strong></p></li> <li><p>SSR 生命周期注意点：（<em>mount 钩子都不支持 ssr 端</em>）</p> <ul><li>在 React 中，componentDidMount 只在客户端才会执行，在服务器端这个生命周期函数是不会执行的。即服务端不支持 componentDidMount。</li> <li>在 Vue 中，服务端渲染只支持 beforCreate 和 created 两个钩子函数，不支持 mounted 这个钩子。</li></ul></li> <li><p>其他要注意的问题</p> <ul><li>node 端没有 window 和 webstorage</li> <li>React 通过 renderToString(<code>&lt;App /&gt;</code>)方法将应用代码转换成字符串，再替换到页面中占位符的位置。</li> <li>ReactDOM.hydrate 会去复用原本已经存在的 DOM 节点，尝试在已有标记上绑定事件监听器。</li> <li>SSR 是不支持异步组件的
<ul><li>我们的方案没有解决这个问题</li></ul></li> <li>SEO 支持（路由页动态生成 TDK）
<ul><li>采用 react-helmet 库</li></ul></li> <li>结合状态管理的 SSR 实现</li></ul></li> <li><p><a href="https://juejin.im/post/5bc7ea48e51d450e46289eab#heading-0" target="_blank" rel="noopener noreferrer">React 中同构（SSR）原理脉络梳理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></li> <li><p>base64</p> <ul><li>作用：传输、存储和表示二进制。基于 64 个可打印的字符来表示二进制的数据的一种方法。可以用来加密但很简单。</li> <li>编码原理</li></ul></li> <li><p>git - git rebase 变基，合并多次本地 commit 记录，使得分支树是线性的
如果你想要你的分支树呈现简洁，不罗嗦，线性的 commit 记录，那就采用 rebase
git rebase 操作实际上是将当前执行 rebase 分支的所有基于原分支提交点之后的 commit 打散成一个一个的 patch，并重新生成一个新的 commit hash 值，再次基于原分支目前最新的 commit 点上进行提交，并不根据两个分支上实际的每次提交的时间点排序，rebase 完成后，切到基分支进行合并另一个分支时也不会生成一个新的 commit 点，可以保持整个分支树的完美线性</p> <div class="language- extra-class"><pre><code>    另外值得一提的是，当我们开发一个功能时，可能会在本地有无数次commit，而你实际上在你的master分支上只想显示每一个功能测试完成后的一次完整提交记录就好了，其他的提交记录并不想将来全部保留在你的master分支上，那么rebase将会是一个好的选择，他可以在rebase时将本地多次的commit合并成一个commit，还可以修改commit的描述等

    git merge 操作合并分支会让两个分支的每一次提交都按照提交时间（并不是push时间）排序，并且会将两个分支的最新一次commit点进行合并成一个新的commit，最终的分支树呈现非整条线性直线的形式
</code></pre></div></li></ul></details></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/19/2024, 5:40:37 PM</span></div></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/Roundtable/Mark/johninch/promise.html">
        promise 专题
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div id="live2d-widget" class="live2d-widget-container" style="position:fixed;right:10px;bottom:-20px;width:290px;height:400px;z-index:99999;opacity:0.9;pointer-events:none;"><canvas id="live2dcanvas" width="290" height="400" class="live2dcanvas" style="position:absolute;left:0px;top:0px;width:290px;height:400px;"></canvas></div><!----><div class="reading-progress top" data-v-21b39eda><div class="progress" data-v-21b39eda></div></div><section class="side-anchor"><ul style="display:none;"></ul></section></div></div>
    <script src="/Roundtable/assets/js/app.2a67b391.js" defer></script><script src="/Roundtable/assets/js/3.732c8675.js" defer></script><script src="/Roundtable/assets/js/194.ff356ef2.js" defer></script>
  </body>
</html>
