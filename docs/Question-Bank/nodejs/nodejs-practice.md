# Node.js 从零开发 web server博客项目 前端晋升全栈工程师必备

Nodejs 一个js运行环境

运行在服务器，作为web server

运行在本地，作为打包、构建工具


### 困惑

Nodejs运行在服务端，不在浏览器

前端和服务端套路不同

做什么？
- nodejs入门到实战，开发个人博客系统

哪些部分？
- API、数据存储、登录、日志、安全

技术？
- http、stream、session、mysql、redis、nginx、pm2...


原生实现：
- API和数据存储
- 登录和redis
- 安全和日志

使用框架：
- express
- koa2
- 中间件和插件
- 中间件原理

线上环境：
- pm2介绍和配置
- pm2多进程模型
- 服务端运维

### 课程准备

- nodejs和js的区别
- 服务端特点，服务端和前端的区别
- 博客项目的需求分析和技术方案设计


#### 下载安装

使用nvm：brew install nvm

#### nodejs和js的区别

- ES只是一种语法规范，定义了语法。写js和nodejs都必须遵守的，包括变量定义，循环，判断，函数，原型原型链，作用域和闭包，异步。
- 但ES不能操作DOM，不能监听click事件，不能发送ajax请求；不能处理http请求，不能操作文件。

- 而JS是使用了ES的语法规范，外加 Web API，二者缺一不可，相互结合才可完成浏览器端的所有操作。
- JS = ES + Web API
- Web API：DOM操作，BOM操作，事件绑定，Ajax等。。

- 而nodejs是使用了ES的语法规范，外加 nodejs API，二者缺一不可，相互结合才可完成服务器端的所有操作。
- nodejs = ES + nodejs API
- nodejs API：处理http，处理文件等。。


#### commonjs模块化

#### nodejs debugger（vscode）


#### server开发和前端开发的区别

- 服务稳定性
    - server端可能会遭受各种恶意攻击和误操作
    - 单个客户端可以以外挂掉，但是服务端不能
    - 解决：使用pm2做进程守候

- 考虑内存和CPU（优化，扩展）
    - 客户端独占一个浏览器，内存和CPU都不是问题
    - server端要承载很多请求，CPU和内存都是稀缺资源
    - 解决：使用stream写日志（节省CPU和内存），使用redis存session

- 日志记录
    - 前端也会参与写日志，但只是日志的发起方，不关系后续
    - server端要记录日志、存储日志、分析日志，前端不关心
    - 解决：多种日志记录方式，及如何分析日志

- 安全
    - server端随时准备接收各种恶意攻击，前端则少很多
    - 如 越权操作，数据库攻击等
    - 解决：讲解登录验证，预防xss攻击和sql注入

- 集群和服务拆分
    - 产品发展速度快，流量可能会迅速增加
    - 如何通过扩展机器和服务拆分来承载大流量
    - 解决：


### 目标

- 开发一个博客系统，具有博客的基本功能
- 值开发server端，不关心前端

- 需求
    - 首页
    - 作者主页
    - 博客详情页
- 登录页
- 管理中心
    - 新建页
    - 编辑页



