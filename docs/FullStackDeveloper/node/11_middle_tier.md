# 11、中台专题

## 什么是中台


- 减少重复劳动
    - 类似于NPM包管理，提供通用的功能抽象，使得需要完成功能的业务方能复用已有功能，减少重复工作。
- 赋能
    - 通过提供丰富的API，提供给调用方更多种可能性。比如调用方一开始只想到通过A方案实现，但中台可以提供B方案、C方案，相比于原先的A方案来说可能是更好更高阶的，这个时候相当于中台对调用方赋予了更多可能性。
- 平台化
    - 提供平台化的服务时（把API集中管理的平台），才能称作中台，否则，仅仅是对某些项目提供一些服务的话，只能将其称作后台。

```
 电影拍摄组 A                       电影 A
 电影拍摄组 B    =>  横店影视城  =>   电影 B
电视剧拍摄组 C                      电视剧 C
  ......                          ......
```
类比到电影制作上，`「横店影视城」就相当于「技术中台」`。影视城相当于一个平台，可以被各个电影电视剧组，甚至是游客利用，影视城内的布景，可以多次复用。甚至可以给剧组提供更好的场景来完成故事，赋能。

*中台是一个概念，本质上是类似于一个`套娃`的概念。*

## 中台的划分

前台与后台之间：
- 技术中台
    - 以下3个只是API服务，需要平台化之后才是中台：
        - GraphQL
        - PostgREST
        - Kubernetes
    - 成熟的中台产品：
        - LeanCloud
        - Firebase
- 业务中台
- 组织中台
    - 孵化中台的中台
        - （后台）Java后台，账户登录
        - （后台的后台）人脸识别平台，机器学习
        - （后台的后台的后台）计算平台，Spark/Storm
    - 调度中台的中台
        - （前台）Weex，手淘首页事件流
        - （后台）Java后台，内容
        - （后台的后台）搭建中台，转发/去重/埋点，数据编辑
        - （后台的后台的后台）千人千面、广告、影响导购


## 代码概念

这3个概念都可以用来做中台：
- 元数据（metadata），描述数据的数据
    - 比如sql语句中，INT，TIMESTAMP等等都是用来描述数据项的数据
    - 比如request的请求头，请求行以及response中响应头，响应行都是源数据
- 高阶函数
    - 处理函数的函数：arr.reduce((a, b) => a + b)，reduce就是处理传入函数的函数
    - 返回函数的函数：比如bodyparser就是一个传入不同元数据，返回不同函数的函数
- Proxy
    - Proxy server：比如VPN，比如数据库中间件，在node后台与mysql中间转发
    - ES6 Proxy feature：方便开发者劫持对象的操作
        - getter/setter
        - Function call/construct
        - in、delete操作符


作用：
- 元数据：生成新项目的数据库、生成接口调用
- 高阶函数：固化处理逻辑、留空处理逻辑
- Proxy：代替用户去做某事、无感知的优化











