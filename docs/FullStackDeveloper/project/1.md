# 项目1

任何需求，都可以做成亮点
1. 效率开发：效率运行，效率空间占用
2. 数据量变大工程师价值所在



1. 文件上传，文件变大
2. 列表渲染，列表数据变大
3. 网络如果不稳定，弱网

## 文件上传

1. axios.post formdata server直接接受，实现功能，面试无亮点
2. 加一个进度条，也没啥亮点
3. 文件变大，比如是2个G怎么办？
    1. 断点续传：
        1. 断点，后端需要一个唯一标识，来判定文件是不是上传过
3. 上传成功，后端要存起来切片，知道上传了哪些
4. md5计算一个指纹
文件如果2各G，计算md5大概要十几秒，卡顿怎么 解决
1. web-worker开一个影分身去做
2. 时间切片time-slice,requestIdleCallback

3. 抽样hash(牺牲一点可靠性，换取效率，布隆过 滤器)
1. 前面1M后面1M，中间每M取前中后2各字节， 拼成一个新的二进制
5. 如果2各G，每个切片是1M，2000各小切片，上穿的 时候，如果用Promise.all 会让浏览器卡顿
1. 控制并发数，这个本身，也是头条一个经典面试题 2. sendReuqest(task,4)
1. 浏览器仕6，6以上的没意义
2. 直接用6打满，可能会影响别的 6. 弱网报错，网络抖动，报错
1. 自动重试比如说3次，每个切片又3次机会 7. 如果只允许上传jpg或者png格式
1. File.name.split('.')[1]=='jpg'
2. 一个pdf文件，重命名xx.jpg就可以越过 3. 二进制文件头来判断
8. 切片大小如何确定
1. 先丢一个小切片，比如4，10，或者100kb都OK 记录一下时间
2. 成功后，看一下上传耗时来修正下一个区块的大 小
3. TCP的慢启动逻辑
9. 文件碎片怎么清理 10. 文件cdn
11. 文件的备份



